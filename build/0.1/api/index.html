
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.kant.ai/boxs/0.1/api/">
      
      <link rel="icon" href="../favicon.svg">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.9">
    
    
      
        <title>API - Boxs documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2b4465f4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


    <script defer data-domain="docs.kant.ai" src="https://plausible.io/js/plausible.js"></script>

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="kantai" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#boxs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://docs.kant.ai" title="Boxs documentation" class="md-header__button md-logo" aria-label="Boxs documentation" data-md-component="logo">
      
  <img src="../icon_white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Boxs documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://gitlab.com/kantai/boxs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M105.2 24.9c-3.1-8.9-15.7-8.9-18.9 0L29.8 199.7h132c-.1 0-56.6-174.8-56.6-174.8zM.9 287.7c-2.6 8 .3 16.9 7.1 22l247.9 184-226.2-294zm160.8-88 94.3 294 94.3-294zm349.4 88-28.8-88-226.3 294 247.9-184c6.9-5.1 9.7-14 7.2-22zM425.7 24.9c-3.1-8.9-15.7-8.9-18.9 0l-56.6 174.8h132z"/></svg>
  </div>
  <div class="md-source__repository">
    GitLab
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://docs.kant.ai" title="Boxs documentation" class="md-nav__button md-logo" aria-label="Boxs documentation" data-md-component="logo">
      
  <img src="../icon_white.svg" alt="logo">

    </a>
    Boxs documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://gitlab.com/kantai/boxs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M105.2 24.9c-3.1-8.9-15.7-8.9-18.9 0L29.8 199.7h132c-.1 0-56.6-174.8-56.6-174.8zM.9 287.7c-2.6 8 .3 16.9 7.1 22l247.9 184-226.2-294zm160.8-88 94.3 294 94.3-294zm349.4 88-28.8-88-226.3 294 247.9-184c6.9-5.1 9.7-14 7.2-22zM425.7 24.9c-3.1-8.9-15.7-8.9-18.9 0l-56.6 174.8h132z"/></svg>
  </div>
  <div class="md-source__repository">
    GitLab
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../user_guide/" class="md-nav__link">
        User guide
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        Command line interface
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Value types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Value types" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Value types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../value_types/common/" class="md-nav__link">
        Common
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../value_types/pandas/" class="md-nav__link">
        Pandas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../value_types/tensorflow/" class="md-nav__link">
        Tensorflow
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Transformers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Transformers" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Transformers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../transformers/statistics/" class="md-nav__link">
        Statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../transformers/checksum/" class="md-nav__link">
        Checksum
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Storages
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Storages" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Storages
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storages/file/" class="md-nav__link">
        File
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        API
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#boxs" class="md-nav__link">
    boxs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.api" class="md-nav__link">
    api
  </a>
  
    <nav class="md-nav" aria-label="api">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.api.info" class="md-nav__link">
    info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.api.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.api.store" class="md-nav__link">
    store()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.box" class="md-nav__link">
    box
  </a>
  
    <nav class="md-nav" aria-label="box">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.box.Box" class="md-nav__link">
    Box
  </a>
  
    <nav class="md-nav" aria-label="Box">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.box.Box.add_value_type" class="md-nav__link">
    add_value_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.box.Box.info" class="md-nav__link">
    info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.box.Box.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.box.Box.store" class="md-nav__link">
    store()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.box.calculate_data_id" class="md-nav__link">
    calculate_data_id()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.box_registry" class="md-nav__link">
    box_registry
  </a>
  
    <nav class="md-nav" aria-label="box_registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.box_registry.get_box" class="md-nav__link">
    get_box()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.box_registry.register_box" class="md-nav__link">
    register_box()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.box_registry.unregister_box" class="md-nav__link">
    unregister_box()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.checksum" class="md-nav__link">
    checksum
  </a>
  
    <nav class="md-nav" aria-label="checksum">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.checksum.ChecksumTransformer" class="md-nav__link">
    ChecksumTransformer
  </a>
  
    <nav class="md-nav" aria-label="ChecksumTransformer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.checksum.ChecksumTransformer.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.checksum.ChecksumTransformer.transform_reader" class="md-nav__link">
    transform_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.checksum.ChecksumTransformer.transform_writer" class="md-nav__link">
    transform_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.checksum.DataChecksumMismatch" class="md-nav__link">
    DataChecksumMismatch
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.cli" class="md-nav__link">
    cli
  </a>
  
    <nav class="md-nav" aria-label="cli">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.cli.clean_runs_command" class="md-nav__link">
    clean_runs_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.delete_run_command" class="md-nav__link">
    delete_run_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.diff_command" class="md-nav__link">
    diff_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.export_command" class="md-nav__link">
    export_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.graph_command" class="md-nav__link">
    graph_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.info_command" class="md-nav__link">
    info_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.list_command" class="md-nav__link">
    list_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.list_runs_command" class="md-nav__link">
    list_runs_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.main" class="md-nav__link">
    main()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.name_run_command" class="md-nav__link">
    name_run_command()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.config" class="md-nav__link">
    config
  </a>
  
    <nav class="md-nav" aria-label="config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.config.Configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.config.Configuration.default_box" class="md-nav__link">
    default_box
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.config.Configuration.init_module" class="md-nav__link">
    init_module
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.config.Configuration.initialized" class="md-nav__link">
    initialized
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.config.get_config" class="md-nav__link">
    get_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.data" class="md-nav__link">
    data
  </a>
  
    <nav class="md-nav" aria-label="data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo" class="md-nav__link">
    DataInfo
  </a>
  
    <nav class="md-nav" aria-label="DataInfo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo.box_id" class="md-nav__link">
    box_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo.data_id" class="md-nav__link">
    data_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo.info" class="md-nav__link">
    info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo.run_id" class="md-nav__link">
    run_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo.uri" class="md-nav__link">
    uri
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo.from_value_info" class="md-nav__link">
    from_value_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo.value_info" class="md-nav__link">
    value_info()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataRef" class="md-nav__link">
    DataRef
  </a>
  
    <nav class="md-nav" aria-label="DataRef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataRef.info" class="md-nav__link">
    info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataRef.uri" class="md-nav__link">
    uri
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataRef.from_item" class="md-nav__link">
    from_item()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataRef.from_uri" class="md-nav__link">
    from_uri()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataRef.from_value_info" class="md-nav__link">
    from_value_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataRef.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataRef.value_info" class="md-nav__link">
    value_info()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.errors" class="md-nav__link">
    errors
  </a>
  
    <nav class="md-nav" aria-label="errors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.errors.BoxAlreadyDefined" class="md-nav__link">
    BoxAlreadyDefined
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.BoxError" class="md-nav__link">
    BoxError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.BoxNotDefined" class="md-nav__link">
    BoxNotDefined
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.BoxNotFound" class="md-nav__link">
    BoxNotFound
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.BoxsError" class="md-nav__link">
    BoxsError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.DataCollision" class="md-nav__link">
    DataCollision
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.DataError" class="md-nav__link">
    DataError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.DataNotFound" class="md-nav__link">
    DataNotFound
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.MissingValueType" class="md-nav__link">
    MissingValueType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.NameCollision" class="md-nav__link">
    NameCollision
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.RunError" class="md-nav__link">
    RunError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.RunNotFound" class="md-nav__link">
    RunNotFound
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.ValueTypeError" class="md-nav__link">
    ValueTypeError
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.filesystem" class="md-nav__link">
    filesystem
  </a>
  
    <nav class="md-nav" aria-label="filesystem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.filesystem.FileSystemStorage" class="md-nav__link">
    FileSystemStorage
  </a>
  
    <nav class="md-nav" aria-label="FileSystemStorage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.filesystem.FileSystemStorage.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.filesystem.FileSystemStorage.create_reader" class="md-nav__link">
    create_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.filesystem.FileSystemStorage.create_writer" class="md-nav__link">
    create_writer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.filesystem.FileSystemStorage.delete_run" class="md-nav__link">
    delete_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.filesystem.FileSystemStorage.list_items" class="md-nav__link">
    list_items()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.filesystem.FileSystemStorage.list_runs" class="md-nav__link">
    list_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.filesystem.FileSystemStorage.set_run_name" class="md-nav__link">
    set_run_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.graph" class="md-nav__link">
    graph
  </a>
  
    <nav class="md-nav" aria-label="graph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.graph.write_graph_of_refs" class="md-nav__link">
    write_graph_of_refs()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.io" class="md-nav__link">
    io
  </a>
  
    <nav class="md-nav" aria-label="io">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream" class="md-nav__link">
    DelegatingStream
  </a>
  
    <nav class="md-nav" aria-label="DelegatingStream">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.closed" class="md-nav__link">
    closed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.close" class="md-nav__link">
    close()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.flush" class="md-nav__link">
    flush()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.seek" class="md-nav__link">
    seek()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.seekable" class="md-nav__link">
    seekable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.tell" class="md-nav__link">
    tell()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.truncate" class="md-nav__link">
    truncate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.writable" class="md-nav__link">
    writable()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.origin" class="md-nav__link">
    origin
  </a>
  
    <nav class="md-nav" aria-label="origin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.origin.ORIGIN_FROM_FUNCTION_NAME" class="md-nav__link">
    ORIGIN_FROM_FUNCTION_NAME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.origin.ORIGIN_FROM_NAME" class="md-nav__link">
    ORIGIN_FROM_NAME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.origin.ORIGIN_FROM_TAGS" class="md-nav__link">
    ORIGIN_FROM_TAGS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.origin.OriginMappingFunction" class="md-nav__link">
    OriginMappingFunction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.origin.OriginContext" class="md-nav__link">
    OriginContext
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.origin.determine_origin" class="md-nav__link">
    determine_origin()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.pandas" class="md-nav__link">
    pandas
  </a>
  
    <nav class="md-nav" aria-label="pandas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.pandas.PandasDataFrameCsvValueType" class="md-nav__link">
    PandasDataFrameCsvValueType
  </a>
  
    <nav class="md-nav" aria-label="PandasDataFrameCsvValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.pandas.PandasDataFrameCsvValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.pandas.PandasDataFrameCsvValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.pandas.PandasDataFrameCsvValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.run" class="md-nav__link">
    run
  </a>
  
    <nav class="md-nav" aria-label="run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.run.get_run_id" class="md-nav__link">
    get_run_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.run.set_run_id" class="md-nav__link">
    set_run_id()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.statistics" class="md-nav__link">
    statistics
  </a>
  
    <nav class="md-nav" aria-label="statistics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.statistics.StatisticsTransformer" class="md-nav__link">
    StatisticsTransformer
  </a>
  
    <nav class="md-nav" aria-label="StatisticsTransformer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.statistics.StatisticsTransformer.transform_writer" class="md-nav__link">
    transform_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.storage" class="md-nav__link">
    storage
  </a>
  
    <nav class="md-nav" aria-label="storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Item" class="md-nav__link">
    Item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.ItemQuery" class="md-nav__link">
    ItemQuery
  </a>
  
    <nav class="md-nav" aria-label="ItemQuery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.storage.ItemQuery--query-all-items-in-a-specific-run" class="md-nav__link">
    Query all items in a specific run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.ItemQuery--query-all-items-with-the-same-data-id-in-all-runs" class="md-nav__link">
    Query all items with the same data-id in all runs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.ItemQuery--query-all-items-with-the-same-data-id-in-specific-runs-with-a-shared-prefix" class="md-nav__link">
    Query all items with the same data-id in specific runs with a shared prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.ItemQuery--query-everything-in-a-specific-box" class="md-nav__link">
    Query everything in a specific box:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.ItemQuery.from_fields" class="md-nav__link">
    from_fields()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Reader" class="md-nav__link">
    Reader
  </a>
  
    <nav class="md-nav" aria-label="Reader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Reader.info" class="md-nav__link">
    info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Reader.item" class="md-nav__link">
    item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Reader.meta" class="md-nav__link">
    meta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Reader.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Reader.as_stream" class="md-nav__link">
    as_stream()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Reader.read_value" class="md-nav__link">
    read_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Run" class="md-nav__link">
    Run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Storage" class="md-nav__link">
    Storage
  </a>
  
    <nav class="md-nav" aria-label="Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Storage.create_reader" class="md-nav__link">
    create_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Storage.create_writer" class="md-nav__link">
    create_writer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Storage.delete_run" class="md-nav__link">
    delete_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Storage.list_items" class="md-nav__link">
    list_items()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Storage.list_runs" class="md-nav__link">
    list_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Storage.set_run_name" class="md-nav__link">
    set_run_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer" class="md-nav__link">
    Writer
  </a>
  
    <nav class="md-nav" aria-label="Writer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer.item" class="md-nav__link">
    item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer.meta" class="md-nav__link">
    meta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer.tags" class="md-nav__link">
    tags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer.as_stream" class="md-nav__link">
    as_stream()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer.write_info" class="md-nav__link">
    write_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer.write_value" class="md-nav__link">
    write_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.tensorflow" class="md-nav__link">
    tensorflow
  </a>
  
    <nav class="md-nav" aria-label="tensorflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.tensorflow.TensorBoardLogDirValueType" class="md-nav__link">
    TensorBoardLogDirValueType
  </a>
  
    <nav class="md-nav" aria-label="TensorBoardLogDirValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.tensorflow.TensorBoardLogDirValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.tensorflow.TensorflowKerasModelValueType" class="md-nav__link">
    TensorflowKerasModelValueType
  </a>
  
    <nav class="md-nav" aria-label="TensorflowKerasModelValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.tensorflow.TensorflowKerasModelValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.tensorflow.TensorflowKerasModelValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.tensorflow.TensorflowKerasModelValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.transform" class="md-nav__link">
    transform
  </a>
  
    <nav class="md-nav" aria-label="transform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingReader" class="md-nav__link">
    DelegatingReader
  </a>
  
    <nav class="md-nav" aria-label="DelegatingReader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingReader.info" class="md-nav__link">
    info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingReader.meta" class="md-nav__link">
    meta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingReader.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingReader.as_stream" class="md-nav__link">
    as_stream()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingReader.read_value" class="md-nav__link">
    read_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingWriter" class="md-nav__link">
    DelegatingWriter
  </a>
  
    <nav class="md-nav" aria-label="DelegatingWriter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingWriter.meta" class="md-nav__link">
    meta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingWriter.as_stream" class="md-nav__link">
    as_stream()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingWriter.write_info" class="md-nav__link">
    write_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingWriter.write_value" class="md-nav__link">
    write_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.Transformer" class="md-nav__link">
    Transformer
  </a>
  
    <nav class="md-nav" aria-label="Transformer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.transform.Transformer.transform_reader" class="md-nav__link">
    transform_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.Transformer.transform_writer" class="md-nav__link">
    transform_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.value_types" class="md-nav__link">
    value_types
  </a>
  
    <nav class="md-nav" aria-label="value_types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.BytesValueType" class="md-nav__link">
    BytesValueType
  </a>
  
    <nav class="md-nav" aria-label="BytesValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.BytesValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.BytesValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.BytesValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.DirectoryValueType" class="md-nav__link">
    DirectoryValueType
  </a>
  
    <nav class="md-nav" aria-label="DirectoryValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.DirectoryValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.DirectoryValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.DirectoryValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.FileValueType" class="md-nav__link">
    FileValueType
  </a>
  
    <nav class="md-nav" aria-label="FileValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.FileValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.FileValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.FileValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.JsonValueType" class="md-nav__link">
    JsonValueType
  </a>
  
    <nav class="md-nav" aria-label="JsonValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.JsonValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.JsonValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.JsonValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.StreamValueType" class="md-nav__link">
    StreamValueType
  </a>
  
    <nav class="md-nav" aria-label="StreamValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.StreamValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.StreamValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.StreamValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.StringValueType" class="md-nav__link">
    StringValueType
  </a>
  
    <nav class="md-nav" aria-label="StringValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.StringValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.StringValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.StringValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.ValueType" class="md-nav__link">
    ValueType
  </a>
  
    <nav class="md-nav" aria-label="ValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.ValueType.from_specification" class="md-nav__link">
    from_specification()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.ValueType.get_specification" class="md-nav__link">
    get_specification()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.ValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.ValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.ValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#boxs" class="md-nav__link">
    boxs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.api" class="md-nav__link">
    api
  </a>
  
    <nav class="md-nav" aria-label="api">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.api.info" class="md-nav__link">
    info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.api.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.api.store" class="md-nav__link">
    store()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.box" class="md-nav__link">
    box
  </a>
  
    <nav class="md-nav" aria-label="box">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.box.Box" class="md-nav__link">
    Box
  </a>
  
    <nav class="md-nav" aria-label="Box">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.box.Box.add_value_type" class="md-nav__link">
    add_value_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.box.Box.info" class="md-nav__link">
    info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.box.Box.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.box.Box.store" class="md-nav__link">
    store()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.box.calculate_data_id" class="md-nav__link">
    calculate_data_id()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.box_registry" class="md-nav__link">
    box_registry
  </a>
  
    <nav class="md-nav" aria-label="box_registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.box_registry.get_box" class="md-nav__link">
    get_box()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.box_registry.register_box" class="md-nav__link">
    register_box()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.box_registry.unregister_box" class="md-nav__link">
    unregister_box()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.checksum" class="md-nav__link">
    checksum
  </a>
  
    <nav class="md-nav" aria-label="checksum">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.checksum.ChecksumTransformer" class="md-nav__link">
    ChecksumTransformer
  </a>
  
    <nav class="md-nav" aria-label="ChecksumTransformer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.checksum.ChecksumTransformer.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.checksum.ChecksumTransformer.transform_reader" class="md-nav__link">
    transform_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.checksum.ChecksumTransformer.transform_writer" class="md-nav__link">
    transform_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.checksum.DataChecksumMismatch" class="md-nav__link">
    DataChecksumMismatch
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.cli" class="md-nav__link">
    cli
  </a>
  
    <nav class="md-nav" aria-label="cli">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.cli.clean_runs_command" class="md-nav__link">
    clean_runs_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.delete_run_command" class="md-nav__link">
    delete_run_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.diff_command" class="md-nav__link">
    diff_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.export_command" class="md-nav__link">
    export_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.graph_command" class="md-nav__link">
    graph_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.info_command" class="md-nav__link">
    info_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.list_command" class="md-nav__link">
    list_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.list_runs_command" class="md-nav__link">
    list_runs_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.main" class="md-nav__link">
    main()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.cli.name_run_command" class="md-nav__link">
    name_run_command()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.config" class="md-nav__link">
    config
  </a>
  
    <nav class="md-nav" aria-label="config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.config.Configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.config.Configuration.default_box" class="md-nav__link">
    default_box
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.config.Configuration.init_module" class="md-nav__link">
    init_module
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.config.Configuration.initialized" class="md-nav__link">
    initialized
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.config.get_config" class="md-nav__link">
    get_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.data" class="md-nav__link">
    data
  </a>
  
    <nav class="md-nav" aria-label="data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo" class="md-nav__link">
    DataInfo
  </a>
  
    <nav class="md-nav" aria-label="DataInfo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo.box_id" class="md-nav__link">
    box_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo.data_id" class="md-nav__link">
    data_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo.info" class="md-nav__link">
    info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo.run_id" class="md-nav__link">
    run_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo.uri" class="md-nav__link">
    uri
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo.from_value_info" class="md-nav__link">
    from_value_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataInfo.value_info" class="md-nav__link">
    value_info()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataRef" class="md-nav__link">
    DataRef
  </a>
  
    <nav class="md-nav" aria-label="DataRef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataRef.info" class="md-nav__link">
    info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataRef.uri" class="md-nav__link">
    uri
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataRef.from_item" class="md-nav__link">
    from_item()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataRef.from_uri" class="md-nav__link">
    from_uri()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataRef.from_value_info" class="md-nav__link">
    from_value_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataRef.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.data.DataRef.value_info" class="md-nav__link">
    value_info()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.errors" class="md-nav__link">
    errors
  </a>
  
    <nav class="md-nav" aria-label="errors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.errors.BoxAlreadyDefined" class="md-nav__link">
    BoxAlreadyDefined
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.BoxError" class="md-nav__link">
    BoxError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.BoxNotDefined" class="md-nav__link">
    BoxNotDefined
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.BoxNotFound" class="md-nav__link">
    BoxNotFound
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.BoxsError" class="md-nav__link">
    BoxsError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.DataCollision" class="md-nav__link">
    DataCollision
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.DataError" class="md-nav__link">
    DataError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.DataNotFound" class="md-nav__link">
    DataNotFound
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.MissingValueType" class="md-nav__link">
    MissingValueType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.NameCollision" class="md-nav__link">
    NameCollision
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.RunError" class="md-nav__link">
    RunError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.RunNotFound" class="md-nav__link">
    RunNotFound
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.errors.ValueTypeError" class="md-nav__link">
    ValueTypeError
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.filesystem" class="md-nav__link">
    filesystem
  </a>
  
    <nav class="md-nav" aria-label="filesystem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.filesystem.FileSystemStorage" class="md-nav__link">
    FileSystemStorage
  </a>
  
    <nav class="md-nav" aria-label="FileSystemStorage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.filesystem.FileSystemStorage.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.filesystem.FileSystemStorage.create_reader" class="md-nav__link">
    create_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.filesystem.FileSystemStorage.create_writer" class="md-nav__link">
    create_writer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.filesystem.FileSystemStorage.delete_run" class="md-nav__link">
    delete_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.filesystem.FileSystemStorage.list_items" class="md-nav__link">
    list_items()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.filesystem.FileSystemStorage.list_runs" class="md-nav__link">
    list_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.filesystem.FileSystemStorage.set_run_name" class="md-nav__link">
    set_run_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.graph" class="md-nav__link">
    graph
  </a>
  
    <nav class="md-nav" aria-label="graph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.graph.write_graph_of_refs" class="md-nav__link">
    write_graph_of_refs()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.io" class="md-nav__link">
    io
  </a>
  
    <nav class="md-nav" aria-label="io">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream" class="md-nav__link">
    DelegatingStream
  </a>
  
    <nav class="md-nav" aria-label="DelegatingStream">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.closed" class="md-nav__link">
    closed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.close" class="md-nav__link">
    close()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.flush" class="md-nav__link">
    flush()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.seek" class="md-nav__link">
    seek()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.seekable" class="md-nav__link">
    seekable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.tell" class="md-nav__link">
    tell()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.truncate" class="md-nav__link">
    truncate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.io.DelegatingStream.writable" class="md-nav__link">
    writable()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.origin" class="md-nav__link">
    origin
  </a>
  
    <nav class="md-nav" aria-label="origin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.origin.ORIGIN_FROM_FUNCTION_NAME" class="md-nav__link">
    ORIGIN_FROM_FUNCTION_NAME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.origin.ORIGIN_FROM_NAME" class="md-nav__link">
    ORIGIN_FROM_NAME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.origin.ORIGIN_FROM_TAGS" class="md-nav__link">
    ORIGIN_FROM_TAGS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.origin.OriginMappingFunction" class="md-nav__link">
    OriginMappingFunction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.origin.OriginContext" class="md-nav__link">
    OriginContext
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.origin.determine_origin" class="md-nav__link">
    determine_origin()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.pandas" class="md-nav__link">
    pandas
  </a>
  
    <nav class="md-nav" aria-label="pandas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.pandas.PandasDataFrameCsvValueType" class="md-nav__link">
    PandasDataFrameCsvValueType
  </a>
  
    <nav class="md-nav" aria-label="PandasDataFrameCsvValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.pandas.PandasDataFrameCsvValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.pandas.PandasDataFrameCsvValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.pandas.PandasDataFrameCsvValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.run" class="md-nav__link">
    run
  </a>
  
    <nav class="md-nav" aria-label="run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.run.get_run_id" class="md-nav__link">
    get_run_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.run.set_run_id" class="md-nav__link">
    set_run_id()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.statistics" class="md-nav__link">
    statistics
  </a>
  
    <nav class="md-nav" aria-label="statistics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.statistics.StatisticsTransformer" class="md-nav__link">
    StatisticsTransformer
  </a>
  
    <nav class="md-nav" aria-label="StatisticsTransformer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.statistics.StatisticsTransformer.transform_writer" class="md-nav__link">
    transform_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.storage" class="md-nav__link">
    storage
  </a>
  
    <nav class="md-nav" aria-label="storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Item" class="md-nav__link">
    Item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.ItemQuery" class="md-nav__link">
    ItemQuery
  </a>
  
    <nav class="md-nav" aria-label="ItemQuery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.storage.ItemQuery--query-all-items-in-a-specific-run" class="md-nav__link">
    Query all items in a specific run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.ItemQuery--query-all-items-with-the-same-data-id-in-all-runs" class="md-nav__link">
    Query all items with the same data-id in all runs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.ItemQuery--query-all-items-with-the-same-data-id-in-specific-runs-with-a-shared-prefix" class="md-nav__link">
    Query all items with the same data-id in specific runs with a shared prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.ItemQuery--query-everything-in-a-specific-box" class="md-nav__link">
    Query everything in a specific box:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.ItemQuery.from_fields" class="md-nav__link">
    from_fields()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Reader" class="md-nav__link">
    Reader
  </a>
  
    <nav class="md-nav" aria-label="Reader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Reader.info" class="md-nav__link">
    info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Reader.item" class="md-nav__link">
    item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Reader.meta" class="md-nav__link">
    meta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Reader.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Reader.as_stream" class="md-nav__link">
    as_stream()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Reader.read_value" class="md-nav__link">
    read_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Run" class="md-nav__link">
    Run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Storage" class="md-nav__link">
    Storage
  </a>
  
    <nav class="md-nav" aria-label="Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Storage.create_reader" class="md-nav__link">
    create_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Storage.create_writer" class="md-nav__link">
    create_writer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Storage.delete_run" class="md-nav__link">
    delete_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Storage.list_items" class="md-nav__link">
    list_items()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Storage.list_runs" class="md-nav__link">
    list_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Storage.set_run_name" class="md-nav__link">
    set_run_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer" class="md-nav__link">
    Writer
  </a>
  
    <nav class="md-nav" aria-label="Writer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer.item" class="md-nav__link">
    item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer.meta" class="md-nav__link">
    meta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer.tags" class="md-nav__link">
    tags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer.as_stream" class="md-nav__link">
    as_stream()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer.write_info" class="md-nav__link">
    write_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.storage.Writer.write_value" class="md-nav__link">
    write_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.tensorflow" class="md-nav__link">
    tensorflow
  </a>
  
    <nav class="md-nav" aria-label="tensorflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.tensorflow.TensorBoardLogDirValueType" class="md-nav__link">
    TensorBoardLogDirValueType
  </a>
  
    <nav class="md-nav" aria-label="TensorBoardLogDirValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.tensorflow.TensorBoardLogDirValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.tensorflow.TensorflowKerasModelValueType" class="md-nav__link">
    TensorflowKerasModelValueType
  </a>
  
    <nav class="md-nav" aria-label="TensorflowKerasModelValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.tensorflow.TensorflowKerasModelValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.tensorflow.TensorflowKerasModelValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.tensorflow.TensorflowKerasModelValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.transform" class="md-nav__link">
    transform
  </a>
  
    <nav class="md-nav" aria-label="transform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingReader" class="md-nav__link">
    DelegatingReader
  </a>
  
    <nav class="md-nav" aria-label="DelegatingReader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingReader.info" class="md-nav__link">
    info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingReader.meta" class="md-nav__link">
    meta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingReader.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingReader.as_stream" class="md-nav__link">
    as_stream()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingReader.read_value" class="md-nav__link">
    read_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingWriter" class="md-nav__link">
    DelegatingWriter
  </a>
  
    <nav class="md-nav" aria-label="DelegatingWriter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingWriter.meta" class="md-nav__link">
    meta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingWriter.as_stream" class="md-nav__link">
    as_stream()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingWriter.write_info" class="md-nav__link">
    write_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.DelegatingWriter.write_value" class="md-nav__link">
    write_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.Transformer" class="md-nav__link">
    Transformer
  </a>
  
    <nav class="md-nav" aria-label="Transformer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.transform.Transformer.transform_reader" class="md-nav__link">
    transform_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.transform.Transformer.transform_writer" class="md-nav__link">
    transform_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boxs.value_types" class="md-nav__link">
    value_types
  </a>
  
    <nav class="md-nav" aria-label="value_types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.BytesValueType" class="md-nav__link">
    BytesValueType
  </a>
  
    <nav class="md-nav" aria-label="BytesValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.BytesValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.BytesValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.BytesValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.DirectoryValueType" class="md-nav__link">
    DirectoryValueType
  </a>
  
    <nav class="md-nav" aria-label="DirectoryValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.DirectoryValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.DirectoryValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.DirectoryValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.FileValueType" class="md-nav__link">
    FileValueType
  </a>
  
    <nav class="md-nav" aria-label="FileValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.FileValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.FileValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.FileValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.JsonValueType" class="md-nav__link">
    JsonValueType
  </a>
  
    <nav class="md-nav" aria-label="JsonValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.JsonValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.JsonValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.JsonValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.StreamValueType" class="md-nav__link">
    StreamValueType
  </a>
  
    <nav class="md-nav" aria-label="StreamValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.StreamValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.StreamValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.StreamValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.StringValueType" class="md-nav__link">
    StringValueType
  </a>
  
    <nav class="md-nav" aria-label="StringValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.StringValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.StringValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.StringValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.ValueType" class="md-nav__link">
    ValueType
  </a>
  
    <nav class="md-nav" aria-label="ValueType">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.ValueType.from_specification" class="md-nav__link">
    from_specification()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.ValueType.get_specification" class="md-nav__link">
    get_specification()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.ValueType.read_value_from_reader" class="md-nav__link">
    read_value_from_reader()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.ValueType.supports" class="md-nav__link">
    supports()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boxs.value_types.ValueType.write_value_to_writer" class="md-nav__link">
    write_value_to_writer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://gitlab.com/kantai/boxs/edit/master/docs/api.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>


  <h1>API</h1>

<div class="doc doc-object doc-module">

<a id="boxs"></a>
    <div class="doc doc-contents first">

      <p>Automatically track data and artifacts</p>
<p>This package provides an API to automatically track data and artifacts in a machine
learning process without the need to manually think about file names or S3 keys. By
using its API the data is automatically stored and loaded in different versions per
execution which allows to compare the data between different runs.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h2 id="boxs.api" class="doc doc-heading">
        <code>api</code>



<a href="#boxs.api" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>API to be used by users</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h3 id="boxs.api.info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">info</span><span class="p">(</span><span class="n">data_ref</span><span class="p">)</span></code>


<a href="#boxs.api.info" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Load info from a reference to an item.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_ref</code></td>
        <td><code>boxs.data.DataRef</code></td>
        <td><p>Data reference that points to the data
whose info is requested.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.data.DataInfo</code></td>
      <td><p>The info about the data.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>boxs.errors.BoxNotDefined</code></td>
        <td><p>If the data is stored in an unknown box.</p></td>
      </tr>
      <tr>
        <td><code>boxs.errors.DataNotFound</code></td>
        <td><p>If no data with the specific ids are stored in this
box.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/api.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="n">data_ref</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load info from a reference to an item.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_ref (boxs.data.DataRef): Data reference that points to the data</span>
<span class="sd">            whose info is requested.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boxs.data.DataInfo: The info about the data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        boxs.errors.BoxNotDefined: If the data is stored in an unknown box.</span>
<span class="sd">        boxs.errors.DataNotFound: If no data with the specific ids are stored in this</span>
<span class="sd">            box.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">box_id</span> <span class="o">=</span> <span class="n">data_ref</span><span class="o">.</span><span class="n">box_id</span>
    <span class="n">box</span> <span class="o">=</span> <span class="n">get_box</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Getting info about value </span><span class="si">%s</span><span class="s2"> from box </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">data_ref</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">box</span><span class="o">.</span><span class="n">box_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">box</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">data_ref</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="boxs.api.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#boxs.api.load" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Load the content of the data item.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data</code></td>
        <td><code>Union[boxs.data.DataRef,boxs.data.DataInfo]</code></td>
        <td><p>DataInfo or
DataRef that points to the data that should be loaded.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>value_type</code></td>
        <td><code>boxs.value_types.ValueType</code></td>
        <td><p>The value type to use when
loading the data. Defaults to <code>None</code>, in which case the same value
type will be used that was used when the data was initially stored.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The loaded data.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>boxs.errors.BoxNotDefined</code></td>
        <td><p>If the data is stored in an unknown box.</p></td>
      </tr>
      <tr>
        <td><code>boxs.errors.DataNotFound</code></td>
        <td><p>If no data with the specific ids are stored in the
referenced box.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/api.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load the content of the data item.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (Union[boxs.data.DataRef,boxs.data.DataInfo]): DataInfo or</span>
<span class="sd">            DataRef that points to the data that should be loaded.</span>
<span class="sd">        value_type (boxs.value_types.ValueType): The value type to use when</span>
<span class="sd">            loading the data. Defaults to `None`, in which case the same value</span>
<span class="sd">            type will be used that was used when the data was initially stored.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Any: The loaded data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        boxs.errors.BoxNotDefined: If the data is stored in an unknown box.</span>
<span class="sd">        boxs.errors.DataNotFound: If no data with the specific ids are stored in the</span>
<span class="sd">            referenced box.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">box_id</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">box_id</span>
    <span class="n">box</span> <span class="o">=</span> <span class="n">get_box</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Loading value </span><span class="si">%s</span><span class="s2"> from box </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">box</span><span class="o">.</span><span class="n">box_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">box</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="n">value_type</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="boxs.api.store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">store</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">*</span><span class="n">parents</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="n">ORIGIN_FROM_FUNCTION_NAME</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">run_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#boxs.api.store" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Store new data in this box.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>A value that should be stored.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>*parents</code></td>
        <td><code>Union[boxs.data.DataInfo,boxs.data.DataRef]</code></td>
        <td><p>Parent data refs,
    that this data depends on.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>origin</code></td>
        <td><code>Union[str,Callable]</code></td>
        <td><p>A string or callable returning a string,
that is used as an origin for deriving the data's id. Defaults to a
callable, that takes the name of the function, from which <code>store</code> is
being called as origin.</p></td>
        <td><code>ORIGIN_FROM_FUNCTION_NAME</code></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>An optional user-defined name, that can be used for looking up
data manually.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Dict[str,str]</code></td>
        <td><p>A dictionary of tags that can be used for grouping
multiple data together. Keys and values have to be strings.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>meta</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>Additional meta-data about this data. This can be
used for arbitrary information that might be useful, e.g. information
about type or format of the data, timestamps, user info etc.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>value_type</code></td>
        <td><code>boxs.value_types.ValueType</code></td>
        <td><p>The value_type to use for writing
this value to the storage. Defaults to <code>None</code> in which case a suitable
value type is taken from the list of predefined values types.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>run_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the run when the data was stored. Defaults to the
current global run_id (see <code>get_run_id()</code>).</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>box</code></td>
        <td><code>Union[str,boxs.box.Box]</code></td>
        <td><p>The box in which the data should be stored.
The box can be either given as Box instance, or by its <code>box_id</code>.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.data.DataInfo</code></td>
      <td><p>Data instance that contains information about the
    data and allows referring to it.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If no box or no origin was provided.</p></td>
      </tr>
      <tr>
        <td><code>boxs.errors.BoxNotDefined</code></td>
        <td><p>If no box with the given box id is
defined.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/api.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">store</span><span class="p">(</span>
    <span class="n">value</span><span class="p">,</span>
    <span class="o">*</span><span class="n">parents</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">origin</span><span class="o">=</span><span class="n">ORIGIN_FROM_FUNCTION_NAME</span><span class="p">,</span>
    <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">meta</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">value_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">run_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">box</span><span class="o">=</span><span class="kc">None</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Store new data in this box.</span>

<span class="sd">    Args:</span>
<span class="sd">        value (Any): A value that should be stored.</span>
<span class="sd">        *parents (Union[boxs.data.DataInfo,boxs.data.DataRef]): Parent data refs,</span>
<span class="sd">                that this data depends on.</span>
<span class="sd">        origin (Union[str,Callable]): A string or callable returning a string,</span>
<span class="sd">            that is used as an origin for deriving the data&#39;s id. Defaults to a</span>
<span class="sd">            callable, that takes the name of the function, from which `store` is</span>
<span class="sd">            being called as origin.</span>
<span class="sd">        name (str): An optional user-defined name, that can be used for looking up</span>
<span class="sd">            data manually.</span>
<span class="sd">        tags (Dict[str,str]): A dictionary of tags that can be used for grouping</span>
<span class="sd">            multiple data together. Keys and values have to be strings.</span>
<span class="sd">        meta (Dict[str, Any]): Additional meta-data about this data. This can be</span>
<span class="sd">            used for arbitrary information that might be useful, e.g. information</span>
<span class="sd">            about type or format of the data, timestamps, user info etc.</span>
<span class="sd">        value_type (boxs.value_types.ValueType): The value_type to use for writing</span>
<span class="sd">            this value to the storage. Defaults to `None` in which case a suitable</span>
<span class="sd">            value type is taken from the list of predefined values types.</span>
<span class="sd">        run_id (str): The id of the run when the data was stored. Defaults to the</span>
<span class="sd">            current global run_id (see `get_run_id()`).</span>
<span class="sd">        box (Union[str,boxs.box.Box]): The box in which the data should be stored.</span>
<span class="sd">            The box can be either given as Box instance, or by its `box_id`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boxs.data.DataInfo: Data instance that contains information about the</span>
<span class="sd">            data and allows referring to it.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If no box or no origin was provided.</span>
<span class="sd">        boxs.errors.BoxNotDefined: If no box with the given box id is</span>
<span class="sd">            defined.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">box</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">box</span> <span class="o">=</span> <span class="n">get_config</span><span class="p">()</span><span class="o">.</span><span class="n">default_box</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;No box defined, using default_box </span><span class="si">%s</span><span class="s2"> from config&quot;</span><span class="p">,</span> <span class="n">box</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">box</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;box&#39; must be set.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">box</span> <span class="o">=</span> <span class="n">get_box</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>
    <span class="n">origin</span> <span class="o">=</span> <span class="n">determine_origin</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">box</span><span class="o">.</span><span class="n">store</span><span class="p">(</span>
        <span class="n">value</span><span class="p">,</span>
        <span class="o">*</span><span class="n">parents</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="n">origin</span><span class="o">=</span><span class="n">origin</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
        <span class="n">meta</span><span class="o">=</span><span class="n">meta</span><span class="p">,</span>
        <span class="n">value_type</span><span class="o">=</span><span class="n">value_type</span><span class="p">,</span>
        <span class="n">run_id</span><span class="o">=</span><span class="n">run_id</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.box" class="doc doc-heading">
        <code>box</code>



<a href="#boxs.box" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Boxes to store items in</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h3 id="boxs.box.Box" class="doc doc-heading">
        <code>
Box        </code>



<a href="#boxs.box.Box" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Box that allows to store and load data.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>box_id</code></td>
        <td><code>str</code></td>
        <td><p>The id that uniquely identifies this Box.</p></td>
      </tr>
      <tr>
        <td><code>storage</code></td>
        <td><code>boxs.storage.Storage</code></td>
        <td><p>The storage that actually writes and
reads the data.</p></td>
      </tr>
      <tr>
        <td><code>transformers</code></td>
        <td><code>boxs.storage.Transformer</code></td>
        <td><p>A tuple with transformers, that
add additional meta-data and transform the data stored and loaded.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/box.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Box</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Box that allows to store and load data.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        box_id (str): The id that uniquely identifies this Box.</span>
<span class="sd">        storage (boxs.storage.Storage): The storage that actually writes and</span>
<span class="sd">            reads the data.</span>
<span class="sd">        transformers (boxs.storage.Transformer): A tuple with transformers, that</span>
<span class="sd">            add additional meta-data and transform the data stored and loaded.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">storage</span><span class="p">,</span> <span class="o">*</span><span class="n">transformers</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span> <span class="o">=</span> <span class="n">box_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">storage</span> <span class="o">=</span> <span class="n">storage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transformers</span> <span class="o">=</span> <span class="n">transformers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_types</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">BytesValueType</span><span class="p">(),</span>
            <span class="n">StreamValueType</span><span class="p">(),</span>
            <span class="n">StringValueType</span><span class="p">(),</span>
            <span class="n">FileValueType</span><span class="p">(),</span>
            <span class="n">JsonValueType</span><span class="p">(),</span>
        <span class="p">]</span>
        <span class="n">register_box</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_value_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add a new value type.</span>

<span class="sd">        The value type is added at the beginning of the list, so that it takes</span>
<span class="sd">        precedence over the already added value types.</span>

<span class="sd">        Args:</span>
<span class="sd">            value_type (boxs.value_types.ValueType): The new value type to add.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_types</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">store</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value</span><span class="p">,</span>
        <span class="o">*</span><span class="n">parents</span><span class="p">,</span>
        <span class="n">origin</span><span class="o">=</span><span class="n">ORIGIN_FROM_FUNCTION_NAME</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">meta</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">value_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">run_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Store new data in this box.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (Any): A value that should be stored.</span>
<span class="sd">            *parents (Union[boxs.data.DataInfo, boxs.data.DataRef]): Parent data refs,</span>
<span class="sd">                that this data depends on.</span>
<span class="sd">            origin (Union[str,Callable]): A string or callable returning a string,</span>
<span class="sd">                that is used as an origin for deriving the data&#39;s id. Defaults to a</span>
<span class="sd">                callable, that takes the name of the function, from which `store` is</span>
<span class="sd">                being called as origin.</span>
<span class="sd">            name (str): An optional user-defined name, that can be used for looking up</span>
<span class="sd">                data manually.</span>
<span class="sd">            tags (Dict[str,str]): A dictionary of tags that can be used for grouping</span>
<span class="sd">                multiple data together. Keys and values have to be strings.</span>
<span class="sd">            meta (Dict[str, Any]): Additional meta-data about this data. This can be</span>
<span class="sd">                used for arbitrary information that might be useful, e.g. information</span>
<span class="sd">                about type or format of the data, timestamps, user info etc.</span>
<span class="sd">            value_type (boxs.value_types.ValueType): The value_type to use for writing</span>
<span class="sd">                this value to the storage. Defaults to `None` in which case a suitable</span>
<span class="sd">                value type is taken from the list of predefined values types.</span>
<span class="sd">            run_id (str): The id of the run when the data was stored.</span>

<span class="sd">        Returns:</span>
<span class="sd">            boxs.data.DataInfo: Data instance that contains information about the</span>
<span class="sd">                data and allows referring to it.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">tags</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">tags</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">meta</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">meta</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">meta</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span>
        <span class="n">origin</span> <span class="o">=</span> <span class="n">determine_origin</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Storing value in box </span><span class="si">%s</span><span class="s2"> with origin </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="n">parent_ids</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">data_id</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">parents</span><span class="p">)</span>
        <span class="n">data_id</span> <span class="o">=</span> <span class="n">calculate_data_id</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">parent_ids</span><span class="o">=</span><span class="n">parent_ids</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Calculate data_id </span><span class="si">%s</span><span class="s2"> from origin </span><span class="si">%s</span><span class="s2"> with parents </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">data_id</span><span class="p">,</span>
            <span class="n">origin</span><span class="p">,</span>
            <span class="n">parent_ids</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">run_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">run_id</span> <span class="o">=</span> <span class="n">get_run_id</span><span class="p">()</span>

        <span class="n">ref</span> <span class="o">=</span> <span class="n">DataRef</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span> <span class="n">data_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>

        <span class="n">writer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">create_writer</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">tags</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created writer </span><span class="si">%s</span><span class="s2"> for data </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span>

        <span class="n">writer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_transformers_to_writer</span><span class="p">(</span><span class="n">writer</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_suitable_value_type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MissingValueType</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Write value for data </span><span class="si">%s</span><span class="s2"> with value type </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">ref</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
            <span class="n">value_type</span><span class="o">.</span><span class="n">get_specification</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">write_value</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span>

        <span class="n">meta</span><span class="p">[</span><span class="s1">&#39;value_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_type</span><span class="o">.</span><span class="n">get_specification</span><span class="p">()</span>
        <span class="n">meta</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span>
        <span class="n">meta</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">writer</span><span class="o">.</span><span class="n">meta</span><span class="p">)</span>
        <span class="n">data_info</span> <span class="o">=</span> <span class="n">DataInfo</span><span class="p">(</span>
            <span class="n">DataRef</span><span class="o">.</span><span class="n">from_item</span><span class="p">(</span><span class="n">writer</span><span class="o">.</span><span class="n">item</span><span class="p">),</span>
            <span class="n">origin</span><span class="o">=</span><span class="n">origin</span><span class="p">,</span>
            <span class="n">parents</span><span class="o">=</span><span class="n">parents</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="n">meta</span><span class="o">=</span><span class="n">meta</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Write info for data </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ref</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">write_info</span><span class="p">(</span><span class="n">data_info</span><span class="o">.</span><span class="n">value_info</span><span class="p">())</span>

        <span class="k">return</span> <span class="n">data_info</span>

    <span class="k">def</span> <span class="nf">_find_suitable_value_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">value_type</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">configured_value_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_types</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">configured_value_type</span><span class="o">.</span><span class="n">supports</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
                <span class="n">value_type</span> <span class="o">=</span> <span class="n">configured_value_type</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;Automatically chose value type </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="n">value_type</span><span class="o">.</span><span class="n">get_specification</span><span class="p">(),</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="n">value_type</span>

    <span class="k">def</span> <span class="nf">_apply_transformers_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">transformer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">transformers</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Applying transformer </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">transformer</span><span class="p">)</span>
            <span class="n">writer</span> <span class="o">=</span> <span class="n">transformer</span><span class="o">.</span><span class="n">transform_writer</span><span class="p">(</span><span class="n">writer</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">writer</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_ref</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load data from the box.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_ref (Union[boxs.data.DataRef,boxs.data.DataInfo]): Data reference</span>
<span class="sd">                that points to the data content to be loaded.</span>
<span class="sd">            value_type (boxs.value_types.ValueType): The value type to use when</span>
<span class="sd">                loading the data. Defaults to `None`, in which case the same value</span>
<span class="sd">                type will be used that was used when the data was initially stored.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Any: The loaded data.</span>

<span class="sd">        Raises:</span>
<span class="sd">            boxs.errors.DataNotFound: If no data with the specific ids are stored</span>
<span class="sd">                in this box.</span>
<span class="sd">            ValueError: If the data refers to a different box by its box_id.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">data_ref</span><span class="o">.</span><span class="n">box_id</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Data references different box id&quot;</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Loading value </span><span class="si">%s</span><span class="s2"> from box </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">data_ref</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">)</span>

        <span class="n">info</span> <span class="o">=</span> <span class="n">data_ref</span><span class="o">.</span><span class="n">info</span>

        <span class="k">if</span> <span class="n">value_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_value_type_from_meta_data</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>

        <span class="n">reader</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">create_reader</span><span class="p">(</span><span class="n">data_ref</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created reader </span><span class="si">%s</span><span class="s2"> for data </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">reader</span><span class="p">,</span> <span class="n">data_ref</span><span class="p">)</span>

        <span class="n">reader</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_transformers_to_reader</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Read value from data </span><span class="si">%s</span><span class="s2"> with value type </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">data_ref</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
            <span class="n">value_type</span><span class="o">.</span><span class="n">get_specification</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_value</span><span class="p">(</span><span class="n">value_type</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_value_type_from_meta_data</span><span class="p">(</span><span class="n">info</span><span class="p">):</span>
        <span class="n">value_type_specification</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">meta</span><span class="p">[</span><span class="s1">&#39;value_type&#39;</span><span class="p">]</span>
        <span class="n">value_type</span> <span class="o">=</span> <span class="n">ValueType</span><span class="o">.</span><span class="n">from_specification</span><span class="p">(</span><span class="n">value_type_specification</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Use value type </span><span class="si">%s</span><span class="s2"> taken from meta-data&quot;</span><span class="p">,</span>
            <span class="n">value_type</span><span class="o">.</span><span class="n">get_specification</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">value_type</span>

    <span class="k">def</span> <span class="nf">_apply_transformers_to_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">transformer</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transformers</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Applying transformer </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">transformer</span><span class="p">)</span>
            <span class="n">reader</span> <span class="o">=</span> <span class="n">transformer</span><span class="o">.</span><span class="n">transform_reader</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">reader</span>

    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_ref</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load info from the box.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_ref (boxs.data.DataRef): Data reference that points to the data</span>
<span class="sd">                whose info is requested.</span>

<span class="sd">        Returns:</span>
<span class="sd">            boxs.data.DataInfo: The info about the data.</span>

<span class="sd">        Raises:</span>
<span class="sd">            boxs.errors.DataNotFound: If no data with the specific ids are stored</span>
<span class="sd">                in this box.</span>
<span class="sd">            ValueError: If the data refers to a different box by its box_id.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">data_ref</span><span class="o">.</span><span class="n">box_id</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Data references different box id&quot;</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Getting info for value </span><span class="si">%s</span><span class="s2"> from box </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">data_ref</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">)</span>
        <span class="n">reader</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">create_reader</span><span class="p">(</span><span class="n">data_ref</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created reader </span><span class="si">%s</span><span class="s2"> for data </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">reader</span><span class="p">,</span> <span class="n">data_ref</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">DataInfo</span><span class="o">.</span><span class="n">from_value_info</span><span class="p">(</span><span class="n">reader</span><span class="o">.</span><span class="n">info</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="boxs.box.Box.add_value_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_value_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span></code>


<a href="#boxs.box.Box.add_value_type" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Add a new value type.</p>
<p>The value type is added at the beginning of the list, so that it takes
precedence over the already added value types.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value_type</code></td>
        <td><code>boxs.value_types.ValueType</code></td>
        <td><p>The new value type to add.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/box.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_value_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add a new value type.</span>

<span class="sd">    The value type is added at the beginning of the list, so that it takes</span>
<span class="sd">    precedence over the already added value types.</span>

<span class="sd">    Args:</span>
<span class="sd">        value_type (boxs.value_types.ValueType): The new value type to add.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">value_types</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.box.Box.info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_ref</span><span class="p">)</span></code>


<a href="#boxs.box.Box.info" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Load info from the box.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_ref</code></td>
        <td><code>boxs.data.DataRef</code></td>
        <td><p>Data reference that points to the data
whose info is requested.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.data.DataInfo</code></td>
      <td><p>The info about the data.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>boxs.errors.DataNotFound</code></td>
        <td><p>If no data with the specific ids are stored
in this box.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the data refers to a different box by its box_id.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/box.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_ref</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load info from the box.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_ref (boxs.data.DataRef): Data reference that points to the data</span>
<span class="sd">            whose info is requested.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boxs.data.DataInfo: The info about the data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        boxs.errors.DataNotFound: If no data with the specific ids are stored</span>
<span class="sd">            in this box.</span>
<span class="sd">        ValueError: If the data refers to a different box by its box_id.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">data_ref</span><span class="o">.</span><span class="n">box_id</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Data references different box id&quot;</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Getting info for value </span><span class="si">%s</span><span class="s2"> from box </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">data_ref</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">)</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">create_reader</span><span class="p">(</span><span class="n">data_ref</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created reader </span><span class="si">%s</span><span class="s2"> for data </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">reader</span><span class="p">,</span> <span class="n">data_ref</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">DataInfo</span><span class="o">.</span><span class="n">from_value_info</span><span class="p">(</span><span class="n">reader</span><span class="o">.</span><span class="n">info</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.box.Box.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_ref</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#boxs.box.Box.load" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Load data from the box.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_ref</code></td>
        <td><code>Union[boxs.data.DataRef,boxs.data.DataInfo]</code></td>
        <td><p>Data reference
that points to the data content to be loaded.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>value_type</code></td>
        <td><code>boxs.value_types.ValueType</code></td>
        <td><p>The value type to use when
loading the data. Defaults to <code>None</code>, in which case the same value
type will be used that was used when the data was initially stored.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The loaded data.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>boxs.errors.DataNotFound</code></td>
        <td><p>If no data with the specific ids are stored
in this box.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the data refers to a different box by its box_id.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/box.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_ref</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load data from the box.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_ref (Union[boxs.data.DataRef,boxs.data.DataInfo]): Data reference</span>
<span class="sd">            that points to the data content to be loaded.</span>
<span class="sd">        value_type (boxs.value_types.ValueType): The value type to use when</span>
<span class="sd">            loading the data. Defaults to `None`, in which case the same value</span>
<span class="sd">            type will be used that was used when the data was initially stored.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Any: The loaded data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        boxs.errors.DataNotFound: If no data with the specific ids are stored</span>
<span class="sd">            in this box.</span>
<span class="sd">        ValueError: If the data refers to a different box by its box_id.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">data_ref</span><span class="o">.</span><span class="n">box_id</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Data references different box id&quot;</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Loading value </span><span class="si">%s</span><span class="s2"> from box </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">data_ref</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">)</span>

    <span class="n">info</span> <span class="o">=</span> <span class="n">data_ref</span><span class="o">.</span><span class="n">info</span>

    <span class="k">if</span> <span class="n">value_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">value_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_value_type_from_meta_data</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>

    <span class="n">reader</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">create_reader</span><span class="p">(</span><span class="n">data_ref</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created reader </span><span class="si">%s</span><span class="s2"> for data </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">reader</span><span class="p">,</span> <span class="n">data_ref</span><span class="p">)</span>

    <span class="n">reader</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_transformers_to_reader</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Read value from data </span><span class="si">%s</span><span class="s2"> with value type </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">data_ref</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
        <span class="n">value_type</span><span class="o">.</span><span class="n">get_specification</span><span class="p">(),</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_value</span><span class="p">(</span><span class="n">value_type</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.box.Box.store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="o">*</span><span class="n">parents</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="n">ORIGIN_FROM_FUNCTION_NAME</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">run_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#boxs.box.Box.store" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Store new data in this box.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>A value that should be stored.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>*parents</code></td>
        <td><code>Union[boxs.data.DataInfo, boxs.data.DataRef]</code></td>
        <td><p>Parent data refs,
that this data depends on.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>origin</code></td>
        <td><code>Union[str,Callable]</code></td>
        <td><p>A string or callable returning a string,
that is used as an origin for deriving the data's id. Defaults to a
callable, that takes the name of the function, from which <code>store</code> is
being called as origin.</p></td>
        <td><code>ORIGIN_FROM_FUNCTION_NAME</code></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>An optional user-defined name, that can be used for looking up
data manually.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Dict[str,str]</code></td>
        <td><p>A dictionary of tags that can be used for grouping
multiple data together. Keys and values have to be strings.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>meta</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>Additional meta-data about this data. This can be
used for arbitrary information that might be useful, e.g. information
about type or format of the data, timestamps, user info etc.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>value_type</code></td>
        <td><code>boxs.value_types.ValueType</code></td>
        <td><p>The value_type to use for writing
this value to the storage. Defaults to <code>None</code> in which case a suitable
value type is taken from the list of predefined values types.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>run_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the run when the data was stored.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.data.DataInfo</code></td>
      <td><p>Data instance that contains information about the
    data and allows referring to it.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/box.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">store</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">value</span><span class="p">,</span>
    <span class="o">*</span><span class="n">parents</span><span class="p">,</span>
    <span class="n">origin</span><span class="o">=</span><span class="n">ORIGIN_FROM_FUNCTION_NAME</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">meta</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">value_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">run_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Store new data in this box.</span>

<span class="sd">    Args:</span>
<span class="sd">        value (Any): A value that should be stored.</span>
<span class="sd">        *parents (Union[boxs.data.DataInfo, boxs.data.DataRef]): Parent data refs,</span>
<span class="sd">            that this data depends on.</span>
<span class="sd">        origin (Union[str,Callable]): A string or callable returning a string,</span>
<span class="sd">            that is used as an origin for deriving the data&#39;s id. Defaults to a</span>
<span class="sd">            callable, that takes the name of the function, from which `store` is</span>
<span class="sd">            being called as origin.</span>
<span class="sd">        name (str): An optional user-defined name, that can be used for looking up</span>
<span class="sd">            data manually.</span>
<span class="sd">        tags (Dict[str,str]): A dictionary of tags that can be used for grouping</span>
<span class="sd">            multiple data together. Keys and values have to be strings.</span>
<span class="sd">        meta (Dict[str, Any]): Additional meta-data about this data. This can be</span>
<span class="sd">            used for arbitrary information that might be useful, e.g. information</span>
<span class="sd">            about type or format of the data, timestamps, user info etc.</span>
<span class="sd">        value_type (boxs.value_types.ValueType): The value_type to use for writing</span>
<span class="sd">            this value to the storage. Defaults to `None` in which case a suitable</span>
<span class="sd">            value type is taken from the list of predefined values types.</span>
<span class="sd">        run_id (str): The id of the run when the data was stored.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boxs.data.DataInfo: Data instance that contains information about the</span>
<span class="sd">            data and allows referring to it.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">tags</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">meta</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">meta</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">meta</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span>
    <span class="n">origin</span> <span class="o">=</span> <span class="n">determine_origin</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Storing value in box </span><span class="si">%s</span><span class="s2"> with origin </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
    <span class="n">parent_ids</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">data_id</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">parents</span><span class="p">)</span>
    <span class="n">data_id</span> <span class="o">=</span> <span class="n">calculate_data_id</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">parent_ids</span><span class="o">=</span><span class="n">parent_ids</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Calculate data_id </span><span class="si">%s</span><span class="s2"> from origin </span><span class="si">%s</span><span class="s2"> with parents </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">data_id</span><span class="p">,</span>
        <span class="n">origin</span><span class="p">,</span>
        <span class="n">parent_ids</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">run_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">run_id</span> <span class="o">=</span> <span class="n">get_run_id</span><span class="p">()</span>

    <span class="n">ref</span> <span class="o">=</span> <span class="n">DataRef</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span> <span class="n">data_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>

    <span class="n">writer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">create_writer</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">tags</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created writer </span><span class="si">%s</span><span class="s2"> for data </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">ref</span><span class="p">)</span>

    <span class="n">writer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_transformers_to_writer</span><span class="p">(</span><span class="n">writer</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">value_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">value_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_suitable_value_type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">value_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MissingValueType</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Write value for data </span><span class="si">%s</span><span class="s2"> with value type </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">ref</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
        <span class="n">value_type</span><span class="o">.</span><span class="n">get_specification</span><span class="p">(),</span>
    <span class="p">)</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">write_value</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span>

    <span class="n">meta</span><span class="p">[</span><span class="s1">&#39;value_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_type</span><span class="o">.</span><span class="n">get_specification</span><span class="p">()</span>
    <span class="n">meta</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span>
    <span class="n">meta</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">writer</span><span class="o">.</span><span class="n">meta</span><span class="p">)</span>
    <span class="n">data_info</span> <span class="o">=</span> <span class="n">DataInfo</span><span class="p">(</span>
        <span class="n">DataRef</span><span class="o">.</span><span class="n">from_item</span><span class="p">(</span><span class="n">writer</span><span class="o">.</span><span class="n">item</span><span class="p">),</span>
        <span class="n">origin</span><span class="o">=</span><span class="n">origin</span><span class="p">,</span>
        <span class="n">parents</span><span class="o">=</span><span class="n">parents</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
        <span class="n">meta</span><span class="o">=</span><span class="n">meta</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Write info for data </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ref</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">write_info</span><span class="p">(</span><span class="n">data_info</span><span class="o">.</span><span class="n">value_info</span><span class="p">())</span>

    <span class="k">return</span> <span class="n">data_info</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="boxs.box.calculate_data_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">calculate_data_id</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">parent_ids</span><span class="o">=</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#boxs.box.calculate_data_id" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Derive a data_id from origin and parent_ids</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>origin</code></td>
        <td><code>str</code></td>
        <td><p>The origin of the data.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>parent_ids</code></td>
        <td><code>tuple[str]</code></td>
        <td><p>A tuple of data_ids of "parent" data, that this data
is derived from.</p></td>
        <td><code>()</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The data_id.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/box.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">calculate_data_id</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">parent_ids</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Derive a data_id from origin and parent_ids</span>

<span class="sd">    Args:</span>
<span class="sd">        origin (str): The origin of the data.</span>
<span class="sd">        parent_ids (tuple[str]): A tuple of data_ids of &quot;parent&quot; data, that this data</span>
<span class="sd">            is derived from.</span>

<span class="sd">    Returns:</span>
<span class="sd">         str: The data_id.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">id_origin_data</span> <span class="o">=</span> <span class="s1">&#39;:&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="n">origin</span><span class="p">,</span>
            <span class="n">name</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="o">+</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">parent_ids</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">blake2b</span><span class="p">(</span><span class="n">id_origin_data</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">),</span> <span class="n">digest_size</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.box_registry" class="doc doc-heading">
        <code>box_registry</code>



<a href="#boxs.box_registry" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Registry of boxes</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h3 id="boxs.box_registry.get_box" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_box</span><span class="p">(</span><span class="n">box_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#boxs.box_registry.get_box" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Return the box with the given box_id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>box_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The id of the box that should be returned. Defaults
to <code>None</code> in which case the default box is taken from the config and
returned.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.box.Box</code></td>
      <td><p>The box with the given <code>box_id</code>.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>boxs.errors.BoxNotDefined</code></td>
        <td><p>If no box with the given id is defined.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/box_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_box</span><span class="p">(</span><span class="n">box_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the box with the given box_id.</span>

<span class="sd">    Args:</span>
<span class="sd">        box_id (Optional[str]): The id of the box that should be returned. Defaults</span>
<span class="sd">            to `None` in which case the default box is taken from the config and</span>
<span class="sd">            returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boxs.box.Box: The box with the given `box_id`.</span>

<span class="sd">    Raises:</span>
<span class="sd">        boxs.errors.BoxNotDefined: If no box with the given id is defined.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Getting box </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">box_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">box_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">box_id</span> <span class="o">=</span> <span class="n">get_config</span><span class="p">()</span><span class="o">.</span><span class="n">default_box</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Using default_box </span><span class="si">%s</span><span class="s2"> from config&quot;</span><span class="p">,</span> <span class="n">box_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">box_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_BOX_REGISTRY</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">BoxNotDefined</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_BOX_REGISTRY</span><span class="p">[</span><span class="n">box_id</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="boxs.box_registry.register_box" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_box</span><span class="p">(</span><span class="n">box</span><span class="p">)</span></code>


<a href="#boxs.box_registry.register_box" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Registers a new box.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>box</code></td>
        <td><code>boxs.box.Box</code></td>
        <td><p>The box that should be registered.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>boxs.errors.BoxAlreadyDefined</code></td>
        <td><p>If a box with the same id is already
registered.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/box_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">register_box</span><span class="p">(</span><span class="n">box</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Registers a new box.</span>

<span class="sd">    Args:</span>
<span class="sd">        box (boxs.box.Box): The box that should be registered.</span>

<span class="sd">    Raises:</span>
<span class="sd">        boxs.errors.BoxAlreadyDefined: If a box with the same id is already</span>
<span class="sd">            registered.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">box_id</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">box_id</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Registering box </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">box_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">box_id</span> <span class="ow">in</span> <span class="n">_BOX_REGISTRY</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">BoxAlreadyDefined</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
    <span class="n">_BOX_REGISTRY</span><span class="p">[</span><span class="n">box</span><span class="o">.</span><span class="n">box_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">box</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="boxs.box_registry.unregister_box" class="doc doc-heading">
<code class="highlight language-python"><span class="n">unregister_box</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span></code>


<a href="#boxs.box_registry.unregister_box" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Unregisters the box with the given box_id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>box_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the box that should be removed.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>boxs.errors.BoxNotDefined</code></td>
        <td><p>If no box with the given id is defined.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/box_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">unregister_box</span><span class="p">(</span><span class="n">box_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Unregisters the box with the given box_id.</span>

<span class="sd">    Args:</span>
<span class="sd">        box_id (str): The id of the box that should be removed.</span>

<span class="sd">    Raises:</span>
<span class="sd">        boxs.errors.BoxNotDefined: If no box with the given id is defined.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Unregistering box </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">box_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">box_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_BOX_REGISTRY</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">BoxNotDefined</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
    <span class="k">del</span> <span class="n">_BOX_REGISTRY</span><span class="p">[</span><span class="n">box_id</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.checksum" class="doc doc-heading">
        <code>checksum</code>



<a href="#boxs.checksum" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Checksum data to detect errors</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h3 id="boxs.checksum.ChecksumTransformer" class="doc doc-heading">
        <code>
ChecksumTransformer            (<a title="boxs.transform.Transformer" href="#boxs.transform.Transformer">Transformer</a>)
        </code>



<a href="#boxs.checksum.ChecksumTransformer" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Transformer that calculates and verifies the checksums of data.</p>
<p>The transformer adds three values to the data's meta data:
    - 'checksum_digest': The hex-string representation of the checksum.
    - 'checksum_digest_size': The size in bytes of the checksum (not its
      representation).
    - 'checksum_algorithm': The hashing algorithm which is used for calculating
      the checksum. Currently, only 'blake2b' is supported.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/checksum.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ChecksumTransformer</span><span class="p">(</span><span class="n">Transformer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transformer that calculates and verifies the checksums of data.</span>

<span class="sd">    The transformer adds three values to the data&#39;s meta data:</span>
<span class="sd">        - &#39;checksum_digest&#39;: The hex-string representation of the checksum.</span>
<span class="sd">        - &#39;checksum_digest_size&#39;: The size in bytes of the checksum (not its</span>
<span class="sd">          representation).</span>
<span class="sd">        - &#39;checksum_algorithm&#39;: The hashing algorithm which is used for calculating</span>
<span class="sd">          the checksum. Currently, only &#39;blake2b&#39; is supported.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">digest_size</span><span class="o">=</span><span class="mi">32</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new ChecksumTransformer.</span>

<span class="sd">        Args:</span>
<span class="sd">            digest_size (int): Length of the checksum in bytes.  Defaults to `32`.</span>
<span class="sd">                Since a checksum is represented as a hex-string, where a single byte</span>
<span class="sd">                is represented by two characters, the length of the resulting checksum</span>
<span class="sd">                string will be twice of the `digest_size`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">digest_size</span> <span class="o">=</span> <span class="n">digest_size</span>

    <span class="k">def</span> <span class="nf">transform_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_ChecksumReader</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">default_digest_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">digest_size</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">transform_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_ChecksumWriter</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">digest_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">digest_size</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="boxs.checksum.ChecksumTransformer.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">digest_size</span><span class="o">=</span><span class="mi">32</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#boxs.checksum.ChecksumTransformer.__init__" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Create a new ChecksumTransformer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>digest_size</code></td>
        <td><code>int</code></td>
        <td><p>Length of the checksum in bytes.  Defaults to <code>32</code>.
Since a checksum is represented as a hex-string, where a single byte
is represented by two characters, the length of the resulting checksum
string will be twice of the <code>digest_size</code>.</p></td>
        <td><code>32</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/checksum.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">digest_size</span><span class="o">=</span><span class="mi">32</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new ChecksumTransformer.</span>

<span class="sd">    Args:</span>
<span class="sd">        digest_size (int): Length of the checksum in bytes.  Defaults to `32`.</span>
<span class="sd">            Since a checksum is represented as a hex-string, where a single byte</span>
<span class="sd">            is represented by two characters, the length of the resulting checksum</span>
<span class="sd">            string will be twice of the `digest_size`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">digest_size</span> <span class="o">=</span> <span class="n">digest_size</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.checksum.ChecksumTransformer.transform_reader" class="doc doc-heading">
<code class="highlight language-python"><span class="n">transform_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span></code>


<a href="#boxs.checksum.ChecksumTransformer.transform_reader" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Transform a given reader.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>reader</code></td>
        <td><code>boxs.storage.Reader</code></td>
        <td><p>Reader object that is used for reading
data content and meta-data.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.storage.Reader</code></td>
      <td><p>A modified reader that will be used instead.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/checksum.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">transform_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_ChecksumReader</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">default_digest_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">digest_size</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.checksum.ChecksumTransformer.transform_writer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">transform_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span></code>


<a href="#boxs.checksum.ChecksumTransformer.transform_writer" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Transform a given writer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>writer</code></td>
        <td><code>boxs.storage.Writer</code></td>
        <td><p>Writer object that is used for writing
new data content and meta-data.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.storage.Writer</code></td>
      <td><p>A modified writer that will be used instead.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/checksum.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">transform_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_ChecksumWriter</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">digest_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">digest_size</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.checksum.DataChecksumMismatch" class="doc doc-heading">
        <code>
DataChecksumMismatch            (<a title="boxs.errors.DataError" href="#boxs.errors.DataError">DataError</a>)
        </code>



<a href="#boxs.checksum.DataChecksumMismatch" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Exception that is raised if a checksum doesn't match.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>item</code></td>
        <td><code>boxs.storage.Item</code></td>
        <td><p>The item where the mismatch occurred.</p></td>
      </tr>
      <tr>
        <td><code>expected</code></td>
        <td><code>str</code></td>
        <td><p>Checksum that was expected.</p></td>
      </tr>
      <tr>
        <td><code>calculated</code></td>
        <td><code>str</code></td>
        <td><p>Checksum that was actually calculated.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/checksum.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DataChecksumMismatch</span><span class="p">(</span><span class="n">DataError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exception that is raised if a checksum doesn&#39;t match.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        item (boxs.storage.Item): The item where the mismatch occurred.</span>
<span class="sd">        expected (str): Checksum that was expected.</span>
<span class="sd">        calculated (str): Checksum that was actually calculated.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">expected</span><span class="p">,</span> <span class="n">calculated</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">item</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expected</span> <span class="o">=</span> <span class="n">expected</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calculated</span> <span class="o">=</span> <span class="n">calculated</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="si">}</span><span class="s2"> has wrong checksum &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">calculated</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;, expected &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">expected</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.cli" class="doc doc-heading">
        <code>cli</code>



<a href="#boxs.cli" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Command line interface</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h3 id="boxs.cli.clean_runs_command" class="doc doc-heading">
<code class="highlight language-python"><span class="n">clean_runs_command</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code>


<a href="#boxs.cli.clean_runs_command" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Function that removes old runs.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>args</code></td>
        <td><code>argparse.Namespace</code></td>
        <td><p>The parsed arguments from command line.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/cli.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">clean_runs_command</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function that removes old runs.</span>

<span class="sd">    Args:</span>
<span class="sd">        args (argparse.Namespace): The parsed arguments from command line.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">box</span> <span class="o">=</span> <span class="n">get_box</span><span class="p">()</span>
    <span class="n">storage</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">storage</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Removing runs in box </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">box</span><span class="o">.</span><span class="n">box_id</span><span class="p">)</span>
    <span class="n">runs</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">list_runs</span><span class="p">(</span><span class="n">box</span><span class="o">.</span><span class="n">box_id</span><span class="p">)</span>

    <span class="n">runs_to_keep</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">runs</span><span class="p">[:</span> <span class="n">args</span><span class="o">.</span><span class="n">count</span><span class="p">])</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">remove_named</span><span class="p">:</span>
        <span class="n">_keep_runs_with_name</span><span class="p">(</span><span class="n">runs</span><span class="p">,</span> <span class="n">runs_to_keep</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">ignore_dependencies</span><span class="p">:</span>
        <span class="n">_keep_runs_that_are_dependencies</span><span class="p">(</span><span class="n">runs_to_keep</span><span class="p">,</span> <span class="n">storage</span><span class="p">)</span>

    <span class="n">runs_to_delete</span> <span class="o">=</span> <span class="p">[</span><span class="n">run</span> <span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="n">runs</span> <span class="k">if</span> <span class="n">run</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">runs_to_keep</span><span class="p">]</span>
    <span class="n">_print_result</span><span class="p">(</span><span class="s2">&quot;Delete runs&quot;</span><span class="p">,</span> <span class="n">runs_to_delete</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">runs_to_delete</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">quiet</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">_confirm</span><span class="p">(</span><span class="s2">&quot;Really delete all listed runs? (y/N)&quot;</span><span class="p">):</span>
                <span class="k">return</span>

        <span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="n">runs_to_delete</span><span class="p">:</span>
            <span class="n">box</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">delete_run</span><span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="boxs.cli.delete_run_command" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_run_command</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code>


<a href="#boxs.cli.delete_run_command" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Command that allows to delete a specific run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>args</code></td>
        <td><code>argparse.Namespace</code></td>
        <td><p>The parsed arguments from command line.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/cli.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_run_command</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Command that allows to delete a specific run.</span>

<span class="sd">    Args:</span>
<span class="sd">        args (argparse.Namespace): The parsed arguments from command line.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">box</span> <span class="o">=</span> <span class="n">get_box</span><span class="p">()</span>
    <span class="n">storage</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">storage</span>
    <span class="n">run</span> <span class="o">=</span> <span class="n">_get_run_from_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">run</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Deleting run </span><span class="si">%s</span><span class="s2"> in box </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">run</span><span class="o">.</span><span class="n">run_id</span><span class="p">,</span>
        <span class="n">box</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">quiet</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_confirm</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Really delete the run </span><span class="si">{</span><span class="n">run</span><span class="o">.</span><span class="n">run_id</span><span class="si">}</span><span class="s2">? There might be other &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;runs referencing data from it. (y/N)&quot;</span>
        <span class="p">):</span>
            <span class="k">return</span>
    <span class="n">storage</span><span class="o">.</span><span class="n">delete_run</span><span class="p">(</span><span class="n">box</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span>
    <span class="n">_print_result</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Run </span><span class="si">{</span><span class="n">run</span><span class="o">.</span><span class="n">run_id</span><span class="si">}</span><span class="s2"> deleted.&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">run</span><span class="p">],</span> <span class="n">args</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="boxs.cli.diff_command" class="doc doc-heading">
<code class="highlight language-python"><span class="n">diff_command</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code>


<a href="#boxs.cli.diff_command" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Command that compares two runs or data items.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>args</code></td>
        <td><code>argparse.Namespace</code></td>
        <td><p>The parsed arguments from command line.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/cli.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">diff_command</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Command that compares two runs or data items.</span>

<span class="sd">    Args:</span>
<span class="sd">        args (argparse.Namespace): The parsed arguments from command line.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_get_data_item_as_file</span><span class="p">(</span><span class="n">ref</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ref</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">value_type</span><span class="o">=</span><span class="n">FileValueType</span><span class="p">())</span>

    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">obj_string</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">queries</span><span class="p">:</span>
        <span class="n">item_query</span> <span class="o">=</span> <span class="n">_parse_query</span><span class="p">(</span><span class="n">obj_string</span><span class="p">)</span>
        <span class="n">box</span> <span class="o">=</span> <span class="n">get_box</span><span class="p">(</span><span class="n">item_query</span><span class="o">.</span><span class="n">box</span><span class="p">)</span>
        <span class="n">item_query</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">box_id</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">box</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">list_items</span><span class="p">(</span><span class="n">item_query</span><span class="p">))</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">first_ref</span> <span class="o">=</span> <span class="n">DataRef</span><span class="o">.</span><span class="n">from_item</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">second_ref</span> <span class="o">=</span> <span class="n">DataRef</span><span class="o">.</span><span class="n">from_item</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Showing diff between items </span><span class="si">%s</span><span class="s2"> and </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">first_ref</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
            <span class="n">second_ref</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">first_file_path</span> <span class="o">=</span> <span class="n">_get_data_item_as_file</span><span class="p">(</span><span class="n">first_ref</span><span class="p">)</span>
        <span class="n">first_label</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">queries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">second_file_path</span> <span class="o">=</span> <span class="n">_get_data_item_as_file</span><span class="p">(</span><span class="n">second_ref</span><span class="p">)</span>
        <span class="n">second_label</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">queries</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">args</span><span class="o">.</span><span class="n">diff</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">first_file_path</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">second_file_path</span><span class="p">)]</span>
        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">labels</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="s1">&#39;--label&#39;</span><span class="p">,</span>
                    <span class="n">first_label</span><span class="p">,</span>
                    <span class="s1">&#39;--label&#39;</span><span class="p">,</span>
                    <span class="n">second_label</span><span class="p">,</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">diff_args</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Calling diff </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_print_error</span><span class="p">(</span><span class="s2">&quot;Ambiguous values to diff.&quot;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="boxs.cli.export_command" class="doc doc-heading">
<code class="highlight language-python"><span class="n">export_command</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code>


<a href="#boxs.cli.export_command" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Command that exports a data item to a file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>args</code></td>
        <td><code>argparse.Namespace</code></td>
        <td><p>The parsed arguments from command line.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/cli.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">export_command</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Command that exports a data item to a file.</span>

<span class="sd">    Args:</span>
<span class="sd">        args (argparse.Namespace): The parsed arguments from command line.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_export_item_as_file</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ref</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">value_type</span><span class="o">=</span><span class="n">FileValueType</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">file_path</span><span class="p">))</span>

    <span class="n">item_query</span> <span class="o">=</span> <span class="n">_parse_query</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
    <span class="n">box</span> <span class="o">=</span> <span class="n">get_box</span><span class="p">(</span><span class="n">item_query</span><span class="o">.</span><span class="n">box</span><span class="p">)</span>
    <span class="n">item_query</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">box_id</span>
    <span class="n">items</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">list_items</span><span class="p">(</span><span class="n">item_query</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">_print_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No item found for </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">_print_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Multiple items found for </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="n">_print_result</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">DataRef</span><span class="o">.</span><span class="n">from_item</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">export_file_path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">file</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Exporting item </span><span class="si">%s</span><span class="s2"> to file </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ref</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">export_file_path</span><span class="p">)</span>

        <span class="n">_export_item_as_file</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">export_file_path</span><span class="p">)</span>
        <span class="n">_print_result</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="si">}</span><span class="s2"> successfully exported to </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="n">args</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="boxs.cli.graph_command" class="doc doc-heading">
<code class="highlight language-python"><span class="n">graph_command</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code>


<a href="#boxs.cli.graph_command" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Command that creates a graph out of data items.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>args</code></td>
        <td><code>argparse.Namespace</code></td>
        <td><p>The parsed arguments from command line.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/cli.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">graph_command</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Command that creates a graph out of data items.</span>

<span class="sd">    Args:</span>
<span class="sd">        args (argparse.Namespace): The parsed arguments from command line.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">item_query</span> <span class="o">=</span> <span class="n">_parse_query</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">item_query</span><span class="o">.</span><span class="n">box</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">item_query</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="n">get_config</span><span class="p">()</span><span class="o">.</span><span class="n">default_box</span>
    <span class="n">box</span> <span class="o">=</span> <span class="n">get_box</span><span class="p">(</span><span class="n">item_query</span><span class="o">.</span><span class="n">box</span><span class="p">)</span>
    <span class="n">items</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">list_items</span><span class="p">(</span><span class="n">item_query</span><span class="p">)</span>
    <span class="n">refs</span> <span class="o">=</span> <span class="p">[</span><span class="n">DataRef</span><span class="o">.</span><span class="n">from_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">file</span> <span class="o">==</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span>
        <span class="n">writer</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">writer</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">FileIO</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="n">writer</span> <span class="o">=</span> <span class="n">codecs</span><span class="o">.</span><span class="n">getwriter</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)(</span><span class="n">writer</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">writer</span><span class="p">:</span>
        <span class="n">write_graph_of_refs</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">refs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="boxs.cli.info_command" class="doc doc-heading">
<code class="highlight language-python"><span class="n">info_command</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code>


<a href="#boxs.cli.info_command" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Command that shows the information about a data item.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>args</code></td>
        <td><code>argparse.Namespace</code></td>
        <td><p>The parsed arguments from command line.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/cli.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">info_command</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Command that shows the information about a data item.</span>

<span class="sd">    Args:</span>
<span class="sd">        args (argparse.Namespace): The parsed arguments from command line.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">item_query</span> <span class="o">=</span> <span class="n">_parse_query</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">box</span> <span class="o">=</span> <span class="n">get_box</span><span class="p">(</span><span class="n">item_query</span><span class="o">.</span><span class="n">box</span><span class="p">)</span>
    <span class="n">item_query</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">box_id</span>
    <span class="n">items</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">list_items</span><span class="p">(</span><span class="n">item_query</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">_print_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No item found by query </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">_print_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Multiple items found by query </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="n">_print_result</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">item</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Showing info about item </span><span class="si">%s</span><span class="s2"> from run </span><span class="si">%s</span><span class="s2"> in box </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">item</span><span class="o">.</span><span class="n">data_id</span><span class="p">,</span>
        <span class="n">item</span><span class="o">.</span><span class="n">run_id</span><span class="p">,</span>
        <span class="n">item</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">info</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">create_reader</span><span class="p">(</span><span class="n">DataRef</span><span class="o">.</span><span class="n">from_item</span><span class="p">(</span><span class="n">item</span><span class="p">))</span><span class="o">.</span><span class="n">info</span>
    <span class="n">_print_result</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Info </span><span class="si">{</span><span class="n">item</span><span class="o">.</span><span class="n">data_id</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">item</span><span class="o">.</span><span class="n">run_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="boxs.cli.list_command" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_command</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code>


<a href="#boxs.cli.list_command" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Function that lists the data items of a specific run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>args</code></td>
        <td><code>argparse.Namespace</code></td>
        <td><p>The parsed arguments from command line.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/cli.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_command</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function that lists the data items of a specific run.</span>

<span class="sd">    Args:</span>
<span class="sd">        args (argparse.Namespace): The parsed arguments from command line.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">item_query</span> <span class="o">=</span> <span class="n">_parse_query</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Listing items by query </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">item_query</span><span class="p">)</span>

    <span class="n">box</span> <span class="o">=</span> <span class="n">get_box</span><span class="p">(</span><span class="n">item_query</span><span class="o">.</span><span class="n">box</span><span class="p">)</span>
    <span class="n">item_query</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">box_id</span>
    <span class="n">items</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">list_items</span><span class="p">(</span><span class="n">item_query</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">_print_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No items found by query </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">_print_result</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;List items </span><span class="si">{</span><span class="n">item_query</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="boxs.cli.list_runs_command" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_runs_command</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code>


<a href="#boxs.cli.list_runs_command" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Function that lists runs.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>args</code></td>
        <td><code>argparse.Namespace</code></td>
        <td><p>The parsed arguments from command line.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/cli.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_runs_command</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function that lists runs.</span>

<span class="sd">    Args:</span>
<span class="sd">        args (argparse.Namespace): The parsed arguments from command line.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">box</span> <span class="o">=</span> <span class="n">get_box</span><span class="p">()</span>
    <span class="n">storage</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">storage</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Listing all runs in box </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">box</span><span class="o">.</span><span class="n">box_id</span><span class="p">)</span>
    <span class="n">runs</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">list_runs</span><span class="p">(</span><span class="n">box</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span> <span class="n">name_filter</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">filter</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">limit</span><span class="p">)</span>
    <span class="n">_print_result</span><span class="p">(</span><span class="s2">&quot;List runs&quot;</span><span class="p">,</span> <span class="n">runs</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="boxs.cli.main" class="doc doc-heading">
<code class="highlight language-python"><span class="n">main</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#boxs.cli.main" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>main() method of our command line interface.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>argv</code></td>
        <td><code>List[str]</code></td>
        <td><p>Command line arguments given to the function. If <code>None</code>, the
arguments are taken from <code>sys.argv</code>.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/cli.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    main() method of our command line interface.</span>

<span class="sd">    Args:</span>
<span class="sd">        argv (List[str]): Command line arguments given to the function. If `None`, the</span>
<span class="sd">            arguments are taken from `sys.argv`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">argv</span> <span class="o">=</span> <span class="n">argv</span> <span class="ow">or</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>

    <span class="n">boxs_home_dir</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s1">&#39;.boxs&#39;</span>
    <span class="n">boxs_home_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">file_handler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="n">boxs_home_dir</span> <span class="o">/</span> <span class="s1">&#39;cli.log&#39;</span><span class="p">)</span>
    <span class="n">file_handler</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span>
    <span class="n">file_handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> - </span><span class="si">%(name)s</span><span class="s1"> - </span><span class="si">%(levelname)s</span><span class="s1"> - </span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span>
        <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span>
        <span class="n">handlers</span><span class="o">=</span><span class="p">[</span><span class="n">file_handler</span><span class="p">],</span>
    <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Command line arguments: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">argv</span><span class="p">)</span>

    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span>
        <span class="n">prog</span><span class="o">=</span><span class="s1">&#39;boxs&#39;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Allows to inspect and manipulate boxes that are used for &quot;</span>
        <span class="s2">&quot;storing data items using the python &#39;boxs&#39; library.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">set_defaults</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="k">lambda</span> <span class="n">_</span><span class="p">:</span> <span class="n">parser</span><span class="o">.</span><span class="n">print_help</span><span class="p">())</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s1">&#39;-b&#39;</span><span class="p">,</span>
        <span class="s1">&#39;--default-box&#39;</span><span class="p">,</span>
        <span class="n">metavar</span><span class="o">=</span><span class="s1">&#39;BOX&#39;</span><span class="p">,</span>
        <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;default_box&#39;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;The id of the default box to use. If not set, the default is taken &quot;</span>
        <span class="s2">&quot;from the BOXS_DEFAULT_BOX environment variable.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s1">&#39;-i&#39;</span><span class="p">,</span>
        <span class="s1">&#39;--init-module&#39;</span><span class="p">,</span>
        <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;init_module&#39;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;A python module that should be automatically loaded. If not set, the &quot;</span>
        <span class="s2">&quot;default is taken from the BOXS_INIT_MODULE environment variable.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s1">&#39;-j&#39;</span><span class="p">,</span>
        <span class="s1">&#39;--json&#39;</span><span class="p">,</span>
        <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;json&#39;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Print output as json&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">subparsers</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_subparsers</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Commands&quot;</span><span class="p">)</span>

    <span class="n">_add_list_runs_command</span><span class="p">(</span><span class="n">subparsers</span><span class="p">)</span>
    <span class="n">_add_name_run_command</span><span class="p">(</span><span class="n">subparsers</span><span class="p">)</span>
    <span class="n">_add_delete_run_command</span><span class="p">(</span><span class="n">subparsers</span><span class="p">)</span>
    <span class="n">_add_clean_runs_command</span><span class="p">(</span><span class="n">subparsers</span><span class="p">)</span>

    <span class="n">_add_list_command</span><span class="p">(</span><span class="n">subparsers</span><span class="p">)</span>
    <span class="n">_add_info_command</span><span class="p">(</span><span class="n">subparsers</span><span class="p">)</span>
    <span class="n">_add_diff_command</span><span class="p">(</span><span class="n">subparsers</span><span class="p">)</span>

    <span class="n">_add_export_command</span><span class="p">(</span><span class="n">subparsers</span><span class="p">)</span>
    <span class="n">_add_graph_command</span><span class="p">(</span><span class="n">subparsers</span><span class="p">)</span>

    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">get_config</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">default_box</span><span class="p">:</span>
        <span class="n">config</span><span class="o">.</span><span class="n">default_box</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">default_box</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">init_module</span><span class="p">:</span>
        <span class="n">config</span><span class="o">.</span><span class="n">init_module</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">init_module</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">args</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">BoxsError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">_print_error</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="boxs.cli.name_run_command" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name_run_command</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code>


<a href="#boxs.cli.name_run_command" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Command that allows to set a name for a specific run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>args</code></td>
        <td><code>argparse.Namespace</code></td>
        <td><p>The parsed arguments from command line.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/cli.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">name_run_command</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Command that allows to set a name for a specific run.</span>

<span class="sd">    Args:</span>
<span class="sd">        args (argparse.Namespace): The parsed arguments from command line.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">box</span> <span class="o">=</span> <span class="n">get_box</span><span class="p">()</span>
    <span class="n">storage</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">storage</span>
    <span class="n">run</span> <span class="o">=</span> <span class="n">_get_run_from_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">run</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Setting name of run </span><span class="si">%s</span><span class="s2"> in box </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">run</span><span class="o">.</span><span class="n">run_id</span><span class="p">,</span>
        <span class="n">box</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span>
        <span class="n">args</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">run</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">set_run_name</span><span class="p">(</span><span class="n">box</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run</span><span class="o">.</span><span class="n">run_id</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">_print_result</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Run name set </span><span class="si">{</span><span class="n">run</span><span class="o">.</span><span class="n">run_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">run</span><span class="p">],</span> <span class="n">args</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.config" class="doc doc-heading">
        <code>config</code>



<a href="#boxs.config" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Configuration for Boxs</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h3 id="boxs.config.Configuration" class="doc doc-heading">
        <code>
Configuration        </code>



<a href="#boxs.config.Configuration" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Class that contains the individual config values.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>default_box</code></td>
        <td><code>str</code></td>
        <td><p>The id of a box that should be used, no other box id is
specified. Will be initialized from the <code>BOXS_DEFAULT_BOX</code> environment
variable if defined, otherwise is initialized to <code>None</code>.</p></td>
      </tr>
      <tr>
        <td><code>init_module</code></td>
        <td><code>str</code></td>
        <td><p>The name of a python module, that should be automatically
loaded at initialization time. Ideally, the loading of this module should
trigger the definition of all boxes that are used, so that they can be
found if needed. Setting this to a new module name will lead to an import
of the module. Will be initialized from the <code>BOXS_INIT_MODULE</code> environment
variable if defined, otherwise is initialized to <code>None</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Configuration</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class that contains the individual config values.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        default_box (str): The id of a box that should be used, no other box id is</span>
<span class="sd">            specified. Will be initialized from the `BOXS_DEFAULT_BOX` environment</span>
<span class="sd">            variable if defined, otherwise is initialized to `None`.</span>
<span class="sd">        init_module (str): The name of a python module, that should be automatically</span>
<span class="sd">            loaded at initialization time. Ideally, the loading of this module should</span>
<span class="sd">            trigger the definition of all boxes that are used, so that they can be</span>
<span class="sd">            found if needed. Setting this to a new module name will lead to an import</span>
<span class="sd">            of the module. Will be initialized from the `BOXS_INIT_MODULE` environment</span>
<span class="sd">            variable if defined, otherwise is initialized to `None`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_box</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;BOXS_DEFAULT_BOX&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting default_box to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_box</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_module</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;BOXS_INIT_MODULE&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Setting init_module to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">init_module</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">default_box</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the id of the default box.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The id of the id of the default box.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_box</span>

    <span class="nd">@default_box</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">default_box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default_box</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the id of the default box.</span>

<span class="sd">        Args:</span>
<span class="sd">            default_box (str): The ix of the box that should be used if no box is</span>
<span class="sd">                specified.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_box</span> <span class="o">=</span> <span class="n">default_box</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">init_module</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the name of the init_module that is used in this configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The name of the init_module that is used.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init_module</span>

    <span class="nd">@init_module</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">init_module</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">init_module</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the name of the init_module.</span>

<span class="sd">        Setting this value might lead to the module being imported, if boxs is</span>
<span class="sd">        properly initialized.</span>

<span class="sd">        Args:</span>
<span class="sd">            init_module (str): The name of the module to use for initialization.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init_module</span> <span class="o">=</span> <span class="n">init_module</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_load_init_module</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">initialized</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns if boxs is completely initialized.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: `True` if the boxs library is initialized, otherwise `False`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span>

    <span class="nd">@initialized</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">initialized</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">initialized</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the initialization status of boxs.</span>

<span class="sd">        Setting this value to `True` might lead to the init_module being imported, if</span>
<span class="sd">        `init_module` is set.</span>

<span class="sd">        Args:</span>
<span class="sd">            initialized (bool): If the library is fully initialized.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">initialized</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span> <span class="ow">and</span> <span class="n">initialized</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_load_init_module</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_load_init_module</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">init_module</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">initialized</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Import init_module </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">init_module</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">init_module</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">import_error</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">initialized</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">raise</span> <span class="n">import_error</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="boxs.config.Configuration.default_box" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default_box</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

<a href="#boxs.config.Configuration.default_box" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns the id of the default box.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The id of the id of the default box.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="boxs.config.Configuration.init_module" class="doc doc-heading">
<code class="highlight language-python"><span class="n">init_module</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

<a href="#boxs.config.Configuration.init_module" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns the name of the init_module that is used in this configuration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The name of the init_module that is used.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="boxs.config.Configuration.initialized" class="doc doc-heading">
<code class="highlight language-python"><span class="n">initialized</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

<a href="#boxs.config.Configuration.initialized" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns if boxs is completely initialized.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the boxs library is initialized, otherwise <code>False</code>.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>









  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="boxs.config.get_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_config</span><span class="p">()</span></code>


<a href="#boxs.config.get_config" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Returns the configuration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.config.Configuration</code></td>
      <td><p>The configuration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_config</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the configuration.</span>

<span class="sd">    Returns:</span>
<span class="sd">         boxs.config.Configuration: The configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">_CONFIG</span>  <span class="c1"># pylint: disable=global-statement</span>
    <span class="k">if</span> <span class="n">_CONFIG</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Create new configuration&quot;</span><span class="p">)</span>
        <span class="n">_CONFIG</span> <span class="o">=</span> <span class="n">Configuration</span><span class="p">()</span>
        <span class="n">_CONFIG</span><span class="o">.</span><span class="n">initialized</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">_CONFIG</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.data" class="doc doc-heading">
        <code>data</code>



<a href="#boxs.data" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Classes representing data items and references</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="boxs.data.DataInfo" class="doc doc-heading">
        <code>
DataInfo        </code>



<a href="#boxs.data.DataInfo" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Class representing a stored data item.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ref</code></td>
        <td><code>boxs.data.DataRef</code></td>
        <td><p>Reference to this item.</p></td>
      </tr>
      <tr>
        <td><code>origin</code></td>
        <td><code>str</code></td>
        <td><p>The origin of the data.</p></td>
      </tr>
      <tr>
        <td><code>parents</code></td>
        <td><code>Tuple[boxs.data.DataItem]</code></td>
        <td><p>A tuple containing other data items
from which this item was derived.</p></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>A string that can be used to refer to this item by an
user. Defaults to <code>None</code>.</p></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Dict[str,str]</code></td>
        <td><p>A dictionary containing string keys and values, that can
be used for grouping multiple items together. Defaults to an empty dict.</p></td>
      </tr>
      <tr>
        <td><code>meta</code></td>
        <td><code>Dict[str,Any]</code></td>
        <td><p>A dictionary containing meta-data. This meta-data can
have arbitrary values as long as they can be serialized to JSON. Defaults
to an empty dict.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/data.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DataInfo</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class representing a stored data item.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        ref (boxs.data.DataRef): Reference to this item.</span>
<span class="sd">        origin (str): The origin of the data.</span>
<span class="sd">        parents (Tuple[boxs.data.DataItem]): A tuple containing other data items</span>
<span class="sd">            from which this item was derived.</span>
<span class="sd">        name (Optional[str]): A string that can be used to refer to this item by an</span>
<span class="sd">            user. Defaults to `None`.</span>
<span class="sd">        tags (Dict[str,str]): A dictionary containing string keys and values, that can</span>
<span class="sd">            be used for grouping multiple items together. Defaults to an empty dict.</span>
<span class="sd">        meta (Dict[str,Any]): A dictionary containing meta-data. This meta-data can</span>
<span class="sd">            have arbitrary values as long as they can be serialized to JSON. Defaults</span>
<span class="sd">            to an empty dict.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;ref&#39;</span><span class="p">,</span>
        <span class="s1">&#39;origin&#39;</span><span class="p">,</span>
        <span class="s1">&#39;name&#39;</span><span class="p">,</span>
        <span class="s1">&#39;parents&#39;</span><span class="p">,</span>
        <span class="s1">&#39;tags&#39;</span><span class="p">,</span>
        <span class="s1">&#39;meta&#39;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ref</span><span class="p">,</span>
        <span class="n">origin</span><span class="p">,</span>
        <span class="n">parents</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(),</span>
        <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">meta</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>  <span class="c1"># pylint: disable=too-many-arguments</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ref</span> <span class="o">=</span> <span class="n">ref</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">origin</span> <span class="o">=</span> <span class="n">origin</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parents</span> <span class="o">=</span> <span class="n">parents</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">meta</span> <span class="o">=</span> <span class="n">meta</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the data_id.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ref</span><span class="o">.</span><span class="n">data_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">box_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the box_id.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ref</span><span class="o">.</span><span class="n">box_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the run_id.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ref</span><span class="o">.</span><span class="n">run_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uri</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the uri.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ref</span><span class="o">.</span><span class="n">uri</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the info. This is to be compatible with DataRef&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load the content of the data item.</span>

<span class="sd">        Args:</span>
<span class="sd">            value_type (boxs.value_types.ValueType): The value type to use when</span>
<span class="sd">                loading the data. Defaults to `None`, in which case the same value</span>
<span class="sd">                type will be used that was used when the data was initially stored.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Any: The loaded data.</span>

<span class="sd">        Raises:</span>
<span class="sd">            boxs.errors.BoxNotDefined: If the data is stored in an unknown box.</span>
<span class="sd">            boxs.errors.DataNotFound: If no data with the specific ids are stored</span>
<span class="sd">                in the referenced box.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="n">value_type</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">value_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns information about this data item.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dict[str,str]: A dict containing information about this reference.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value_info</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;ref&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ref</span><span class="o">.</span><span class="n">value_info</span><span class="p">(),</span>
            <span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin</span><span class="p">,</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">,</span>
            <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">parent</span><span class="o">.</span><span class="n">value_info</span><span class="p">()</span> <span class="k">for</span> <span class="n">parent</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parents</span><span class="p">],</span>
            <span class="s1">&#39;meta&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">meta</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">value_info</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_value_info</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value_info</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Recreate a DataInfo from its value_info.</span>

<span class="sd">        Args:</span>
<span class="sd">            value_info (Dict[str,str]): A dictionary containing the info.</span>

<span class="sd">        Returns:</span>
<span class="sd">            boxs.data.DataInfo: The information about the data item.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If necessary attributes are missing from the `value_info`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s1">&#39;ref&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">value_info</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">DataRef</span><span class="o">.</span><span class="n">from_value_info</span><span class="p">(</span><span class="n">value_info</span><span class="p">)</span>

        <span class="n">data_ref</span> <span class="o">=</span> <span class="n">DataRef</span><span class="o">.</span><span class="n">from_value_info</span><span class="p">(</span><span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;ref&#39;</span><span class="p">])</span>
        <span class="n">origin</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;origin&#39;</span><span class="p">]</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;tags&#39;</span><span class="p">]</span>
        <span class="n">meta</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;meta&#39;</span><span class="p">]</span>
        <span class="n">parents</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
            <span class="n">DataInfo</span><span class="o">.</span><span class="n">from_value_info</span><span class="p">(</span><span class="n">parent_info</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">parent_info</span> <span class="ow">in</span> <span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;parents&#39;</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">DataInfo</span><span class="p">(</span>
            <span class="n">data_ref</span><span class="p">,</span>
            <span class="n">origin</span><span class="p">,</span>
            <span class="n">parents</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="n">meta</span><span class="o">=</span><span class="n">meta</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">uri</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h4 id="boxs.data.DataInfo.box_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">box_id</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.data.DataInfo.box_id" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns the box_id.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="boxs.data.DataInfo.data_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_id</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.data.DataInfo.data_id" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns the data_id.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="boxs.data.DataInfo.info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">info</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.data.DataInfo.info" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns the info. This is to be compatible with DataRef</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="boxs.data.DataInfo.run_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_id</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.data.DataInfo.run_id" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns the run_id.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="boxs.data.DataInfo.uri" class="doc doc-heading">
<code class="highlight language-python"><span class="n">uri</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.data.DataInfo.uri" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns the uri.</p>
    </div>

  </div>








  <div class="doc doc-object doc-method">



<h4 id="boxs.data.DataInfo.from_value_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_value_info</span><span class="p">(</span><span class="n">value_info</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#boxs.data.DataInfo.from_value_info" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Recreate a DataInfo from its value_info.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value_info</code></td>
        <td><code>Dict[str,str]</code></td>
        <td><p>A dictionary containing the info.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.data.DataInfo</code></td>
      <td><p>The information about the data item.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If necessary attributes are missing from the <code>value_info</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/data.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_value_info</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value_info</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Recreate a DataInfo from its value_info.</span>

<span class="sd">    Args:</span>
<span class="sd">        value_info (Dict[str,str]): A dictionary containing the info.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boxs.data.DataInfo: The information about the data item.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If necessary attributes are missing from the `value_info`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s1">&#39;ref&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">value_info</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">DataRef</span><span class="o">.</span><span class="n">from_value_info</span><span class="p">(</span><span class="n">value_info</span><span class="p">)</span>

    <span class="n">data_ref</span> <span class="o">=</span> <span class="n">DataRef</span><span class="o">.</span><span class="n">from_value_info</span><span class="p">(</span><span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;ref&#39;</span><span class="p">])</span>
    <span class="n">origin</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;origin&#39;</span><span class="p">]</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
    <span class="n">tags</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;tags&#39;</span><span class="p">]</span>
    <span class="n">meta</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;meta&#39;</span><span class="p">]</span>
    <span class="n">parents</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
        <span class="n">DataInfo</span><span class="o">.</span><span class="n">from_value_info</span><span class="p">(</span><span class="n">parent_info</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">parent_info</span> <span class="ow">in</span> <span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;parents&#39;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">DataInfo</span><span class="p">(</span>
        <span class="n">data_ref</span><span class="p">,</span>
        <span class="n">origin</span><span class="p">,</span>
        <span class="n">parents</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
        <span class="n">meta</span><span class="o">=</span><span class="n">meta</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.data.DataInfo.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#boxs.data.DataInfo.load" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Load the content of the data item.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value_type</code></td>
        <td><code>boxs.value_types.ValueType</code></td>
        <td><p>The value type to use when
loading the data. Defaults to <code>None</code>, in which case the same value
type will be used that was used when the data was initially stored.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The loaded data.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>boxs.errors.BoxNotDefined</code></td>
        <td><p>If the data is stored in an unknown box.</p></td>
      </tr>
      <tr>
        <td><code>boxs.errors.DataNotFound</code></td>
        <td><p>If no data with the specific ids are stored
in the referenced box.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/data.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load the content of the data item.</span>

<span class="sd">    Args:</span>
<span class="sd">        value_type (boxs.value_types.ValueType): The value type to use when</span>
<span class="sd">            loading the data. Defaults to `None`, in which case the same value</span>
<span class="sd">            type will be used that was used when the data was initially stored.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Any: The loaded data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        boxs.errors.BoxNotDefined: If the data is stored in an unknown box.</span>
<span class="sd">        boxs.errors.DataNotFound: If no data with the specific ids are stored</span>
<span class="sd">            in the referenced box.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="n">value_type</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.data.DataInfo.value_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#boxs.data.DataInfo.value_info" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns information about this data item.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str,str]</code></td>
      <td><p>A dict containing information about this reference.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/data.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">value_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns information about this data item.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dict[str,str]: A dict containing information about this reference.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">value_info</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;ref&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ref</span><span class="o">.</span><span class="n">value_info</span><span class="p">(),</span>
        <span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin</span><span class="p">,</span>
        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">,</span>
        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">parent</span><span class="o">.</span><span class="n">value_info</span><span class="p">()</span> <span class="k">for</span> <span class="n">parent</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parents</span><span class="p">],</span>
        <span class="s1">&#39;meta&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">meta</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">value_info</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.data.DataRef" class="doc doc-heading">
        <code>
DataRef        </code>



<a href="#boxs.data.DataRef" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Reference to a DataInfo.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/data.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DataRef</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reference to a DataInfo.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;box_id&#39;</span><span class="p">,</span>
        <span class="s1">&#39;data_id&#39;</span><span class="p">,</span>
        <span class="s1">&#39;run_id&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_info&#39;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">data_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span> <span class="o">=</span> <span class="n">box_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_id</span> <span class="o">=</span> <span class="n">data_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_id</span> <span class="o">=</span> <span class="n">run_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_info</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">value_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns information about this reference.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dict[str,str]: A dict containing information about this reference.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value_info</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;box_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span>
            <span class="s1">&#39;data_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_id</span><span class="p">,</span>
            <span class="s1">&#39;run_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_id</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">value_info</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_value_info</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value_info</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Recreate a DataRef from its value_info.</span>

<span class="sd">        Args:</span>
<span class="sd">            value_info (Dict[str,str]): A dictionary containing the ids.</span>

<span class="sd">        Returns:</span>
<span class="sd">            boxs.data.DataRef: The DataRef referencing the data.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If necessary attributes are missing from the `value_info`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">box_id</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;box_id&#39;</span><span class="p">]</span>
        <span class="n">data_id</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;data_id&#39;</span><span class="p">]</span>
        <span class="n">run_id</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;run_id&#39;</span><span class="p">]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">DataRef</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">data_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uri</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the URI of the data item referenced.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;boxs://</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_id</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">run_id</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_uri</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">uri</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Recreate a DataRef from a URI.</span>

<span class="sd">        Args:</span>
<span class="sd">            uri (str): URI in the format &#39;box://&lt;box-id&gt;/&lt;data-id&gt;/&lt;run-id&gt;&#39;.</span>

<span class="sd">        Returns:</span>
<span class="sd">            DataRef: The DataRef referencing the data.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the URI doesn&#39;t follow the expected format.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url_parts</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">url_parts</span><span class="o">.</span><span class="n">scheme</span> <span class="o">!=</span> <span class="s1">&#39;boxs&#39;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid scheme&quot;</span><span class="p">)</span>
        <span class="n">box_id</span> <span class="o">=</span> <span class="n">url_parts</span><span class="o">.</span><span class="n">hostname</span>
        <span class="n">data_id</span><span class="p">,</span> <span class="n">run_id</span> <span class="o">=</span> <span class="n">url_parts</span><span class="o">.</span><span class="n">path</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">DataRef</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">data_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_item</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Recreate a DataRef from an Item.</span>

<span class="sd">        Args:</span>
<span class="sd">            item (boxs.storage.Item): The item which describes the data we want to</span>
<span class="sd">                refer to.</span>

<span class="sd">        Returns:</span>
<span class="sd">            DataRef: The DataRef referencing the data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">DataRef</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span> <span class="n">item</span><span class="o">.</span><span class="n">data_id</span><span class="p">,</span> <span class="n">item</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the info object describing the referenced data item.</span>

<span class="sd">        Returns:</span>
<span class="sd">             boxs.data.DataInfo: The info about the data item referenced.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_info</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_info</span> <span class="o">=</span> <span class="n">info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_info</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load the content of the data item.</span>

<span class="sd">        Args:</span>
<span class="sd">            value_type (boxs.value_types.ValueType): The value type to use when</span>
<span class="sd">                loading the data. Defaults to `None`, in which case the same value</span>
<span class="sd">                type will be used that was used when the data was initially stored.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Any: The loaded data.</span>

<span class="sd">        Raises:</span>
<span class="sd">            boxs.errors.BoxNotDefined: If the data is stored in an unknown box.</span>
<span class="sd">            boxs.errors.DataNotFound: If no data with the specific ids are stored</span>
<span class="sd">                in the referenced box.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">value_type</span><span class="o">=</span><span class="n">value_type</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">box_id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">data_id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">run_id</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_id</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">uri</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h4 id="boxs.data.DataRef.info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">info</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.data.DataRef.info" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns the info object describing the referenced data item.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.data.DataInfo</code></td>
      <td><p>The info about the data item referenced.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="boxs.data.DataRef.uri" class="doc doc-heading">
<code class="highlight language-python"><span class="n">uri</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.data.DataRef.uri" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Return the URI of the data item referenced.</p>
    </div>

  </div>










  <div class="doc doc-object doc-method">



<h4 id="boxs.data.DataRef.from_item" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#boxs.data.DataRef.from_item" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Recreate a DataRef from an Item.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>item</code></td>
        <td><code>boxs.storage.Item</code></td>
        <td><p>The item which describes the data we want to
refer to.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataRef</code></td>
      <td><p>The DataRef referencing the data.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/data.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_item</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Recreate a DataRef from an Item.</span>

<span class="sd">    Args:</span>
<span class="sd">        item (boxs.storage.Item): The item which describes the data we want to</span>
<span class="sd">            refer to.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataRef: The DataRef referencing the data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">DataRef</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span> <span class="n">item</span><span class="o">.</span><span class="n">data_id</span><span class="p">,</span> <span class="n">item</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.data.DataRef.from_uri" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_uri</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#boxs.data.DataRef.from_uri" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Recreate a DataRef from a URI.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uri</code></td>
        <td><code>str</code></td>
        <td><p>URI in the format 'box://<box-id>/<data-id>/<run-id>'.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataRef</code></td>
      <td><p>The DataRef referencing the data.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the URI doesn't follow the expected format.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/data.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_uri</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">uri</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Recreate a DataRef from a URI.</span>

<span class="sd">    Args:</span>
<span class="sd">        uri (str): URI in the format &#39;box://&lt;box-id&gt;/&lt;data-id&gt;/&lt;run-id&gt;&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataRef: The DataRef referencing the data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the URI doesn&#39;t follow the expected format.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url_parts</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">url_parts</span><span class="o">.</span><span class="n">scheme</span> <span class="o">!=</span> <span class="s1">&#39;boxs&#39;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid scheme&quot;</span><span class="p">)</span>
    <span class="n">box_id</span> <span class="o">=</span> <span class="n">url_parts</span><span class="o">.</span><span class="n">hostname</span>
    <span class="n">data_id</span><span class="p">,</span> <span class="n">run_id</span> <span class="o">=</span> <span class="n">url_parts</span><span class="o">.</span><span class="n">path</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">DataRef</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">data_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.data.DataRef.from_value_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_value_info</span><span class="p">(</span><span class="n">value_info</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#boxs.data.DataRef.from_value_info" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Recreate a DataRef from its value_info.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value_info</code></td>
        <td><code>Dict[str,str]</code></td>
        <td><p>A dictionary containing the ids.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.data.DataRef</code></td>
      <td><p>The DataRef referencing the data.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If necessary attributes are missing from the <code>value_info</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/data.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_value_info</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value_info</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Recreate a DataRef from its value_info.</span>

<span class="sd">    Args:</span>
<span class="sd">        value_info (Dict[str,str]): A dictionary containing the ids.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boxs.data.DataRef: The DataRef referencing the data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If necessary attributes are missing from the `value_info`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">box_id</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;box_id&#39;</span><span class="p">]</span>
    <span class="n">data_id</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;data_id&#39;</span><span class="p">]</span>
    <span class="n">run_id</span> <span class="o">=</span> <span class="n">value_info</span><span class="p">[</span><span class="s1">&#39;run_id&#39;</span><span class="p">]</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">DataRef</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">data_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.data.DataRef.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#boxs.data.DataRef.load" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Load the content of the data item.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value_type</code></td>
        <td><code>boxs.value_types.ValueType</code></td>
        <td><p>The value type to use when
loading the data. Defaults to <code>None</code>, in which case the same value
type will be used that was used when the data was initially stored.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The loaded data.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>boxs.errors.BoxNotDefined</code></td>
        <td><p>If the data is stored in an unknown box.</p></td>
      </tr>
      <tr>
        <td><code>boxs.errors.DataNotFound</code></td>
        <td><p>If no data with the specific ids are stored
in the referenced box.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/data.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load the content of the data item.</span>

<span class="sd">    Args:</span>
<span class="sd">        value_type (boxs.value_types.ValueType): The value type to use when</span>
<span class="sd">            loading the data. Defaults to `None`, in which case the same value</span>
<span class="sd">            type will be used that was used when the data was initially stored.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Any: The loaded data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        boxs.errors.BoxNotDefined: If the data is stored in an unknown box.</span>
<span class="sd">        boxs.errors.DataNotFound: If no data with the specific ids are stored</span>
<span class="sd">            in the referenced box.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">value_type</span><span class="o">=</span><span class="n">value_type</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.data.DataRef.value_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#boxs.data.DataRef.value_info" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns information about this reference.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str,str]</code></td>
      <td><p>A dict containing information about this reference.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/data.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">value_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns information about this reference.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dict[str,str]: A dict containing information about this reference.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">value_info</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;box_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span>
        <span class="s1">&#39;data_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_id</span><span class="p">,</span>
        <span class="s1">&#39;run_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_id</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">value_info</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.errors" class="doc doc-heading">
        <code>errors</code>



<a href="#boxs.errors" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Errors in boxs</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="boxs.errors.BoxAlreadyDefined" class="doc doc-heading">
        <code>
BoxAlreadyDefined            (<a title="boxs.errors.BoxError" href="#boxs.errors.BoxError">BoxError</a>)
        </code>



<a href="#boxs.errors.BoxAlreadyDefined" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Error that is raised if multiple boxes are defined using the same box id.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>box_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the box.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/errors.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BoxAlreadyDefined</span><span class="p">(</span><span class="n">BoxError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Error that is raised if multiple boxes are defined using the same box id.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        box_id (str): The id of the box.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span> <span class="o">=</span> <span class="n">box_id</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Box with box id </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="si">}</span><span class="s2"> already defined&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.errors.BoxError" class="doc doc-heading">
        <code>
BoxError            (<a title="boxs.errors.BoxsError" href="#boxs.errors.BoxsError">BoxsError</a>)
        </code>



<a href="#boxs.errors.BoxError" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Base class for all errors related to boxes</p>

        <details class="quote">
          <summary>Source code in <code>boxs/errors.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BoxError</span><span class="p">(</span><span class="n">BoxsError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for all errors related to boxes&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.errors.BoxNotDefined" class="doc doc-heading">
        <code>
BoxNotDefined            (<a title="boxs.errors.BoxError" href="#boxs.errors.BoxError">BoxError</a>)
        </code>



<a href="#boxs.errors.BoxNotDefined" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Error that is raised if a box id refers to a non-defined box.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>box_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the box.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/errors.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BoxNotDefined</span><span class="p">(</span><span class="n">BoxError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Error that is raised if a box id refers to a non-defined box.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        box_id (str): The id of the box.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span> <span class="o">=</span> <span class="n">box_id</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Box with box id </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="si">}</span><span class="s2"> not defined&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.errors.BoxNotFound" class="doc doc-heading">
        <code>
BoxNotFound            (<a title="boxs.errors.BoxError" href="#boxs.errors.BoxError">BoxError</a>)
        </code>



<a href="#boxs.errors.BoxNotFound" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Error that is raised if a box can't be found.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>box_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the box which should contain the data item.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/errors.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BoxNotFound</span><span class="p">(</span><span class="n">BoxError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Error that is raised if a box can&#39;t be found.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        box_id (str): The id of the box which should contain the data item.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span> <span class="o">=</span> <span class="n">box_id</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Box </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="si">}</span><span class="s2"> does not exist in storage.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.errors.BoxsError" class="doc doc-heading">
        <code>
BoxsError            (<span title="Exception">Exception</span>)
        </code>



<a href="#boxs.errors.BoxsError" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Base class for all boxs specific errors</p>

        <details class="quote">
          <summary>Source code in <code>boxs/errors.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BoxsError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for all boxs specific errors&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.errors.DataCollision" class="doc doc-heading">
        <code>
DataCollision            (<a title="boxs.errors.DataError" href="#boxs.errors.DataError">DataError</a>)
        </code>



<a href="#boxs.errors.DataCollision" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Error that is raised if a newly created data item already exists.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>box_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the box containing the data item.</p></td>
      </tr>
      <tr>
        <td><code>data_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the data item.</p></td>
      </tr>
      <tr>
        <td><code>run_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the run when the data was created.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/errors.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DataCollision</span><span class="p">(</span><span class="n">DataError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Error that is raised if a newly created data item already exists.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        box_id (str): The id of the box containing the data item.</span>
<span class="sd">        data_id (str): The id of the data item.</span>
<span class="sd">        run_id (str): The id of the run when the data was created.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">data_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span> <span class="o">=</span> <span class="n">box_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_id</span> <span class="o">=</span> <span class="n">data_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_id</span> <span class="o">=</span> <span class="n">run_id</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Data </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_id</span><span class="si">}</span><span class="s2"> from run </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">run_id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;already exists in box </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.errors.DataError" class="doc doc-heading">
        <code>
DataError            (<a title="boxs.errors.BoxsError" href="#boxs.errors.BoxsError">BoxsError</a>)
        </code>



<a href="#boxs.errors.DataError" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Base class for all boxs specific errors related to data</p>

        <details class="quote">
          <summary>Source code in <code>boxs/errors.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DataError</span><span class="p">(</span><span class="n">BoxsError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for all boxs specific errors related to data&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.errors.DataNotFound" class="doc doc-heading">
        <code>
DataNotFound            (<a title="boxs.errors.DataError" href="#boxs.errors.DataError">DataError</a>)
        </code>



<a href="#boxs.errors.DataNotFound" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Error that is raised if a data item can't be found.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>box_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the box which should contain the data item.</p></td>
      </tr>
      <tr>
        <td><code>data_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the data item.</p></td>
      </tr>
      <tr>
        <td><code>run_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the run when the data was created.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/errors.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DataNotFound</span><span class="p">(</span><span class="n">DataError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Error that is raised if a data item can&#39;t be found.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        box_id (str): The id of the box which should contain the data item.</span>
<span class="sd">        data_id (str): The id of the data item.</span>
<span class="sd">        run_id (str): The id of the run when the data was created.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">data_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span> <span class="o">=</span> <span class="n">box_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_id</span> <span class="o">=</span> <span class="n">data_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_id</span> <span class="o">=</span> <span class="n">run_id</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Data </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_id</span><span class="si">}</span><span class="s2"> from run </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">run_id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;does not exist in box </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.errors.MissingValueType" class="doc doc-heading">
        <code>
MissingValueType            (<a title="boxs.errors.ValueTypeError" href="#boxs.errors.ValueTypeError">ValueTypeError</a>)
        </code>



<a href="#boxs.errors.MissingValueType" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Error that is raised if no ValueType can be found that supports the value.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>box_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the box.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/errors.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MissingValueType</span><span class="p">(</span><span class="n">ValueTypeError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Error that is raised if no ValueType can be found that supports the value.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        box_id (str): The id of the box.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No value type found for &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.errors.NameCollision" class="doc doc-heading">
        <code>
NameCollision            (<a title="boxs.errors.DataError" href="#boxs.errors.DataError">DataError</a>)
        </code>



<a href="#boxs.errors.NameCollision" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Error that is raised if a data item with the same name already exists.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>box_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the box containing the data item.</p></td>
      </tr>
      <tr>
        <td><code>data_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the data item.</p></td>
      </tr>
      <tr>
        <td><code>run_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the run when the data was created.</p></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the data item that is used twice.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/errors.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">NameCollision</span><span class="p">(</span><span class="n">DataError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Error that is raised if a data item with the same name already exists.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        box_id (str): The id of the box containing the data item.</span>
<span class="sd">        data_id (str): The id of the data item.</span>
<span class="sd">        run_id (str): The id of the run when the data was created.</span>
<span class="sd">        name (str): The name of the data item that is used twice.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">data_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span> <span class="o">=</span> <span class="n">box_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_id</span> <span class="o">=</span> <span class="n">data_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_id</span> <span class="o">=</span> <span class="n">run_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;There already exists a data item in run </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">run_id</span><span class="si">}</span><span class="s2"> with the &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;name </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> in box </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.errors.RunError" class="doc doc-heading">
        <code>
RunError            (<a title="boxs.errors.BoxsError" href="#boxs.errors.BoxsError">BoxsError</a>)
        </code>



<a href="#boxs.errors.RunError" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Base class for all run specific errors</p>

        <details class="quote">
          <summary>Source code in <code>boxs/errors.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RunError</span><span class="p">(</span><span class="n">BoxsError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for all run specific errors&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.errors.RunNotFound" class="doc doc-heading">
        <code>
RunNotFound            (<a title="boxs.errors.RunError" href="#boxs.errors.RunError">RunError</a>)
        </code>



<a href="#boxs.errors.RunNotFound" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Error that is raised if a run can't be found.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>box_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the box which should contain the run.</p></td>
      </tr>
      <tr>
        <td><code>run_id</code></td>
        <td><code>str</code></td>
        <td><p>The id of the run.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/errors.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RunNotFound</span><span class="p">(</span><span class="n">RunError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Error that is raised if a run can&#39;t be found.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        box_id (str): The id of the box which should contain the run.</span>
<span class="sd">        run_id (str): The id of the run.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">box_id</span> <span class="o">=</span> <span class="n">box_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_id</span> <span class="o">=</span> <span class="n">run_id</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Run </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">run_id</span><span class="si">}</span><span class="s2"> does not exist in box </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.errors.ValueTypeError" class="doc doc-heading">
        <code>
ValueTypeError            (<a title="boxs.errors.BoxsError" href="#boxs.errors.BoxsError">BoxsError</a>)
        </code>



<a href="#boxs.errors.ValueTypeError" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Base class for all boxs specific errors related to value types</p>

        <details class="quote">
          <summary>Source code in <code>boxs/errors.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueTypeError</span><span class="p">(</span><span class="n">BoxsError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for all boxs specific errors related to value types&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.filesystem" class="doc doc-heading">
        <code>filesystem</code>



<a href="#boxs.filesystem" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Store data in a local filesystem</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h3 id="boxs.filesystem.FileSystemStorage" class="doc doc-heading">
        <code>
FileSystemStorage            (<a title="boxs.storage.Storage" href="#boxs.storage.Storage">Storage</a>)
        </code>



<a href="#boxs.filesystem.FileSystemStorage" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Storage implementation that stores data items and meta-data in a directory.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FileSystemStorage</span><span class="p">(</span><span class="n">Storage</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Storage implementation that stores data items and meta-data in a directory.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">directory</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create the storage.</span>

<span class="sd">        Args:</span>
<span class="sd">            directory (Union[str,pathlib.Path]): The path to the directory where the</span>
<span class="sd">                data will be stored.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_data_file_paths</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="n">base_path</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span> <span class="o">/</span> <span class="n">item</span><span class="o">.</span><span class="n">box_id</span> <span class="o">/</span> <span class="s1">&#39;data&#39;</span> <span class="o">/</span> <span class="n">item</span><span class="o">.</span><span class="n">data_id</span> <span class="o">/</span> <span class="n">item</span><span class="o">.</span><span class="n">run_id</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">base_path</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s1">&#39;.data&#39;</span><span class="p">),</span> <span class="n">base_path</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s1">&#39;.info&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_run_file_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_runs_directory_path</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">box_id</span><span class="p">)</span> <span class="o">/</span> <span class="n">item</span><span class="o">.</span><span class="n">run_id</span> <span class="o">/</span> <span class="n">item</span><span class="o">.</span><span class="n">data_id</span>

    <span class="k">def</span> <span class="nf">_runs_directory_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span> <span class="o">/</span> <span class="n">box_id</span> <span class="o">/</span> <span class="s1">&#39;runs&#39;</span>
        <span class="n">path</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">path</span>

    <span class="k">def</span> <span class="nf">_runs_names_directory_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_runs_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span> <span class="o">/</span> <span class="s1">&#39;_named&#39;</span>
        <span class="n">path</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">path</span>

    <span class="k">def</span> <span class="nf">_run_directory_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_runs_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span> <span class="o">/</span> <span class="n">run_id</span>

    <span class="k">def</span> <span class="nf">_box_directory_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span> <span class="o">/</span> <span class="n">box_id</span>

    <span class="k">def</span> <span class="nf">list_runs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name_filter</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">box_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_box_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;List runs from directory </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">box_directory</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">box_directory</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">BoxNotFound</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>

        <span class="n">runs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_runs_in_box</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
        <span class="n">runs</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">runs</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">time</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name_filter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">runs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">name_filter</span><span class="p">),</span> <span class="n">runs</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">runs</span> <span class="o">=</span> <span class="n">runs</span><span class="p">[:</span><span class="n">limit</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">runs</span>

    <span class="k">def</span> <span class="nf">_list_runs_in_box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">):</span>
        <span class="n">runs_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_runs_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
        <span class="n">runs</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_create_run_from_run_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">runs_directory</span><span class="o">.</span><span class="n">iterdir</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span> <span class="ow">and</span> <span class="n">path</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_runs_names_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">runs</span>

    <span class="k">def</span> <span class="nf">list_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_query</span><span class="p">):</span>
        <span class="n">box_id</span> <span class="o">=</span> <span class="n">item_query</span><span class="o">.</span><span class="n">box</span>
        <span class="n">box_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_box_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">box_directory</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">BoxNotFound</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;List items with query </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">item_query</span><span class="p">)</span>

        <span class="n">runs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_runs_in_box</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">item_query</span><span class="o">.</span><span class="n">run</span><span class="p">:</span>
            <span class="n">runs</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">run</span>
                <span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="n">runs</span>
                <span class="k">if</span> <span class="n">run</span><span class="o">.</span><span class="n">run_id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">item_query</span><span class="o">.</span><span class="n">run</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">item_query</span><span class="o">.</span><span class="n">run</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="p">]</span>
        <span class="n">runs</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">runs</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>

        <span class="n">all_items</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="n">runs</span><span class="p">:</span>
            <span class="n">items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_items_in_run</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span>
            <span class="n">items</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>
            <span class="n">all_items</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="p">(</span>
                    <span class="n">item</span>
                    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span>
                    <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">data_id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">item_query</span><span class="o">.</span><span class="n">data</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                    <span class="ow">or</span> <span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">item_query</span><span class="o">.</span><span class="n">data</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">all_items</span>

    <span class="k">def</span> <span class="nf">set_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Set name of run </span><span class="si">%s</span><span class="s2"> in box </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">run_id</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

        <span class="n">box_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_box_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">box_directory</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">BoxNotFound</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>

        <span class="n">run_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">run_directory</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">RunNotFound</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>

        <span class="n">run_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_remove_name_for_run</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_name_for_run_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">run_path</span><span class="p">)</span>

        <span class="n">run</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_run_from_run_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">run</span>

    <span class="k">def</span> <span class="nf">delete_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">):</span>
        <span class="n">run_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">run_directory</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">RunNotFound</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>

        <span class="n">items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_items_in_run</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
            <span class="n">data_file</span><span class="p">,</span> <span class="n">info_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_file_paths</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
            <span class="n">data_file</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
            <span class="n">info_file</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">run_directory</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Create writer for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">data_file</span><span class="p">,</span> <span class="n">info_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_file_paths</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="n">run_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_file_path</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_FileSystemWriter</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">data_file</span><span class="p">,</span> <span class="n">info_file</span><span class="p">,</span> <span class="n">run_file</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Create reader for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">data_file</span><span class="p">,</span> <span class="n">info_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_file_paths</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_FileSystemReader</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">data_file</span><span class="p">,</span> <span class="n">info_file</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_run_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">):</span>
        <span class="n">name_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_runs_names_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
        <span class="n">run_names</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">named_link_file</span> <span class="ow">in</span> <span class="n">name_directory</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">named_link_file</span><span class="o">.</span><span class="n">name</span>
            <span class="n">resolved_run_dir</span> <span class="o">=</span> <span class="n">named_link_file</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
            <span class="n">run_id</span> <span class="o">=</span> <span class="n">resolved_run_dir</span><span class="o">.</span><span class="n">name</span>
            <span class="n">run_names</span><span class="p">[</span><span class="n">run_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">return</span> <span class="n">run_names</span>

    <span class="k">def</span> <span class="nf">_set_name_for_run_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">run_path</span><span class="p">):</span>
        <span class="n">name_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_runs_names_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
        <span class="n">name_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">name_symlink_file</span> <span class="o">=</span> <span class="n">name_dir</span> <span class="o">/</span> <span class="n">name</span>
        <span class="n">symlink_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">run_path</span><span class="p">,</span> <span class="n">name_dir</span><span class="p">)</span>
        <span class="n">name_symlink_file</span><span class="o">.</span><span class="n">symlink_to</span><span class="p">(</span><span class="n">symlink_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_remove_name_for_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">):</span>
        <span class="n">run_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_run_names</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">run_id</span> <span class="ow">in</span> <span class="n">run_names</span><span class="p">:</span>
            <span class="n">name_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_runs_names_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
            <span class="n">name_symlink_file</span> <span class="o">=</span> <span class="n">name_dir</span> <span class="o">/</span> <span class="n">run_names</span><span class="p">[</span><span class="n">run_id</span><span class="p">]</span>
            <span class="n">name_symlink_file</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_get_items_in_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">):</span>
        <span class="n">named_items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_item_names_in_run</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">Item</span><span class="p">(</span>
                <span class="n">box_id</span><span class="p">,</span>
                <span class="n">path</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">run_id</span><span class="p">,</span>
                <span class="n">named_items</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span>
                    <span class="n">path</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_mtime</span><span class="p">,</span>
                    <span class="n">tz</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span><span class="o">.</span><span class="n">iterdir</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">items</span>

    <span class="k">def</span> <span class="nf">_get_item_names_in_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">):</span>
        <span class="n">name_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span> <span class="o">/</span> <span class="s1">&#39;_named&#39;</span>
        <span class="n">named_items</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">name_directory</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">named_link_file</span> <span class="ow">in</span> <span class="n">name_directory</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">named_link_file</span><span class="o">.</span><span class="n">name</span>
                <span class="n">resolved_info_file</span> <span class="o">=</span> <span class="n">named_link_file</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
                <span class="n">data_id</span> <span class="o">=</span> <span class="n">resolved_info_file</span><span class="o">.</span><span class="n">name</span>
                <span class="n">named_items</span><span class="p">[</span><span class="n">data_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">return</span> <span class="n">named_items</span>

    <span class="k">def</span> <span class="nf">_create_run_from_run_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_path</span><span class="p">):</span>
        <span class="n">run_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_run_names</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
        <span class="n">run_id</span> <span class="o">=</span> <span class="n">run_path</span><span class="o">.</span><span class="n">name</span>
        <span class="k">return</span> <span class="n">Run</span><span class="p">(</span>
            <span class="n">box_id</span><span class="p">,</span>
            <span class="n">run_id</span><span class="p">,</span>
            <span class="n">run_names</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">run_id</span><span class="p">),</span>
            <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span>
                <span class="n">run_path</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_mtime</span><span class="p">,</span>
                <span class="n">tz</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="boxs.filesystem.FileSystemStorage.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">directory</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#boxs.filesystem.FileSystemStorage.__init__" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Create the storage.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>directory</code></td>
        <td><code>Union[str,pathlib.Path]</code></td>
        <td><p>The path to the directory where the
data will be stored.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">directory</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create the storage.</span>

<span class="sd">    Args:</span>
<span class="sd">        directory (Union[str,pathlib.Path]): The path to the directory where the</span>
<span class="sd">            data will be stored.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.filesystem.FileSystemStorage.create_reader" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span></code>


<a href="#boxs.filesystem.FileSystemStorage.create_reader" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Creates a <code>Reader</code> instance, that allows to load existing data.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>item</code></td>
        <td><code>boxs.storage.Item</code></td>
        <td><p>The item that should be read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.storage.Reader</code></td>
      <td><p>The reader that will load the data from the
    storage.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Create reader for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
    <span class="n">data_file</span><span class="p">,</span> <span class="n">info_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_file_paths</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_FileSystemReader</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">data_file</span><span class="p">,</span> <span class="n">info_file</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.filesystem.FileSystemStorage.create_writer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#boxs.filesystem.FileSystemStorage.create_writer" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Creates a <code>Writer</code> instance, that allows to store new data.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>item</code></td>
        <td><code>boxs.storage.Item</code></td>
        <td><p>The new data item.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>An optional name, that can be used for referring to this item
within the run. Defaults to <code>None</code>.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Dict[str,str]</code></td>
        <td><p>A dictionary containing tags that can be used for
grouping multiple items together. Defaults to an empty dictionary.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.storage.Writer</code></td>
      <td><p>The writer that will write the data into the
    storage.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Create writer for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
    <span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">data_file</span><span class="p">,</span> <span class="n">info_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_file_paths</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="n">run_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_file_path</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_FileSystemWriter</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">data_file</span><span class="p">,</span> <span class="n">info_file</span><span class="p">,</span> <span class="n">run_file</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.filesystem.FileSystemStorage.delete_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span></code>


<a href="#boxs.filesystem.FileSystemStorage.delete_run" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Delete all the data of the specified run.</p>
<p>Args;
    box_id (str): <code>box_id</code> of the box in which the run is stored.
    run_id (str): Run id of the run which should be deleted.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">):</span>
    <span class="n">run_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">run_directory</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">RunNotFound</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>

    <span class="n">items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_items_in_run</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
        <span class="n">data_file</span><span class="p">,</span> <span class="n">info_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_file_paths</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="n">data_file</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
        <span class="n">info_file</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
    <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">run_directory</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.filesystem.FileSystemStorage.list_items" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_query</span><span class="p">)</span></code>


<a href="#boxs.filesystem.FileSystemStorage.list_items" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>List all items that match a given query.</p>
<p>The item query can contain parts of box id, run id or run name and data id or
data name. If a query value is not set (<code>== None</code>) it is not used as a filter
criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>item_query</code></td>
        <td><code>boxs.storage.ItemQuery</code></td>
        <td><p>The query which defines which items
should be listed.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[box.storage.Item]</code></td>
      <td><p>The runs.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_query</span><span class="p">):</span>
    <span class="n">box_id</span> <span class="o">=</span> <span class="n">item_query</span><span class="o">.</span><span class="n">box</span>
    <span class="n">box_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_box_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">box_directory</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">BoxNotFound</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;List items with query </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">item_query</span><span class="p">)</span>

    <span class="n">runs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_runs_in_box</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">item_query</span><span class="o">.</span><span class="n">run</span><span class="p">:</span>
        <span class="n">runs</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">run</span>
            <span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="n">runs</span>
            <span class="k">if</span> <span class="n">run</span><span class="o">.</span><span class="n">run_id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">item_query</span><span class="o">.</span><span class="n">run</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="ow">or</span> <span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">item_query</span><span class="o">.</span><span class="n">run</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="n">runs</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">runs</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>

    <span class="n">all_items</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="n">runs</span><span class="p">:</span>
        <span class="n">items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_items_in_run</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span>
        <span class="n">items</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>
        <span class="n">all_items</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="n">item</span>
                <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span>
                <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">data_id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">item_query</span><span class="o">.</span><span class="n">data</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">item_query</span><span class="o">.</span><span class="n">data</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">all_items</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.filesystem.FileSystemStorage.list_runs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_runs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name_filter</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#boxs.filesystem.FileSystemStorage.list_runs" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>List the runs within a box stored in this storage.</p>
<p>The runs should be returned in descending order of their start time.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>box_id</code></td>
        <td><code>str</code></td>
        <td><p><code>box_id</code> of the box in which to look for runs.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>limit</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>Limits the returned runs to maximum <code>limit</code> number.
Defaults to <code>None</code> in which case all runs are returned.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>name_filter</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>If set, only include runs which have names
that have the filter as prefix. Defaults to <code>None</code> in which case all
runs are returned.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[box.storage.Run]</code></td>
      <td><p>The runs.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_runs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name_filter</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">box_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_box_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;List runs from directory </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">box_directory</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">box_directory</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">BoxNotFound</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>

    <span class="n">runs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_runs_in_box</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
    <span class="n">runs</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">runs</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">time</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">name_filter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">runs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">name_filter</span><span class="p">),</span> <span class="n">runs</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">runs</span> <span class="o">=</span> <span class="n">runs</span><span class="p">[:</span><span class="n">limit</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">runs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.filesystem.FileSystemStorage.set_run_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>


<a href="#boxs.filesystem.FileSystemStorage.set_run_name" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Set the name of a run.</p>
<p>The name can be updated and removed by providing <code>None</code>.</p>
<p>Args;
    box_id (str): <code>box_id</code> of the box in which the run is stored.
    run_id (str): Run id of the run which should be named.
    name (Optional[str]): New name of the run. If <code>None</code>, an existing name
        will be removed.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>box.storage.Run</code></td>
      <td><p>The run with its new name.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/filesystem.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Set name of run </span><span class="si">%s</span><span class="s2"> in box </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">run_id</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

    <span class="n">box_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_box_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">box_directory</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">BoxNotFound</span><span class="p">(</span><span class="n">box_id</span><span class="p">)</span>

    <span class="n">run_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">run_directory</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">RunNotFound</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>

    <span class="n">run_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_directory_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_remove_name_for_run</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_name_for_run_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">run_path</span><span class="p">)</span>

    <span class="n">run</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_run_from_run_path</span><span class="p">(</span><span class="n">box_id</span><span class="p">,</span> <span class="n">run_path</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">run</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.graph" class="doc doc-heading">
        <code>graph</code>



<a href="#boxs.graph" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Functions for creating dependency graphs</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="boxs.graph.write_graph_of_refs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_graph_of_refs</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">refs</span><span class="p">)</span></code>


<a href="#boxs.graph.write_graph_of_refs" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Write the dependency graph in DOT format for the given refs to the writer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>writer</code></td>
        <td><code>io.TextIO</code></td>
        <td><p>A text stream, to which the graph definition will be
written.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>refs</code></td>
        <td><code>list[boxs.data.DataRef]</code></td>
        <td><p>A list of DataRef instances for which the
dependency graph will be created.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/graph.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_graph_of_refs</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">refs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Write the dependency graph in DOT format for the given refs to the writer.</span>

<span class="sd">    Args:</span>
<span class="sd">        writer (io.TextIO): A text stream, to which the graph definition will be</span>
<span class="sd">            written.</span>
<span class="sd">        refs (list[boxs.data.DataRef]): A list of DataRef instances for which the</span>
<span class="sd">            dependency graph will be created.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;digraph {</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">infos_by_run</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">queue</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span><span class="p">()</span>
    <span class="n">queue</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">refs</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">queue</span><span class="p">:</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">ref</span><span class="o">.</span><span class="n">uri</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">ref</span><span class="o">.</span><span class="n">info</span>
        <span class="n">infos_by_run</span><span class="p">[</span><span class="n">ref</span><span class="o">.</span><span class="n">run_id</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">parent</span> <span class="ow">in</span> <span class="n">info</span><span class="o">.</span><span class="n">parents</span><span class="p">:</span>
            <span class="n">queue</span><span class="o">.</span><span class="n">appendleft</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ref</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">run_id</span><span class="p">,</span> <span class="n">infos</span> <span class="ow">in</span> <span class="n">infos_by_run</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  subgraph &quot;cluster_</span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s1">&quot; </span><span class="se">{{\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;    label=&quot;Run </span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s1">&quot;;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="n">_write_nodes_for_infos</span><span class="p">(</span><span class="n">infos</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span>

        <span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;  }</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">run_id</span><span class="p">,</span> <span class="n">infos</span> <span class="ow">in</span> <span class="n">infos_by_run</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">_write_edges_to_parents_for_infos</span><span class="p">(</span><span class="n">infos</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span>

    <span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.io" class="doc doc-heading">
        <code>io</code>



<a href="#boxs.io" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Functions for I/O of data</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="boxs.io.DelegatingStream" class="doc doc-heading">
        <code>
DelegatingStream            (<span title="io.RawIOBase">RawIOBase</span>)
        </code>



<a href="#boxs.io.DelegatingStream" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Stream that delegates to another stream.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/io.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DelegatingStream</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">RawIOBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Stream that delegates to another stream.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delegate</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new DelegatingStream.</span>

<span class="sd">        Args:</span>
<span class="sd">            delegate (io.RawIOBase): The delegate stream.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">delegate</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">closed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Property that returns if a stream is closed.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">closed</span>

    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">seek</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">whence</span><span class="o">=</span><span class="n">io</span><span class="o">.</span><span class="n">SEEK_SET</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">whence</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">seekable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">seekable</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">tell</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">truncate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">truncate</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">writable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">writable</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">readinto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">byte_buffer</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">readinto</span><span class="p">(</span><span class="n">byte_buffer</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">byte_buffer</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">byte_buffer</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="boxs.io.DelegatingStream.closed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">closed</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.io.DelegatingStream.closed" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Property that returns if a stream is closed.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="boxs.io.DelegatingStream.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delegate</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#boxs.io.DelegatingStream.__init__" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Creates a new DelegatingStream.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>delegate</code></td>
        <td><code>io.RawIOBase</code></td>
        <td><p>The delegate stream.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/io.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delegate</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a new DelegatingStream.</span>

<span class="sd">    Args:</span>
<span class="sd">        delegate (io.RawIOBase): The delegate stream.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">delegate</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.io.DelegatingStream.close" class="doc doc-heading">
<code class="highlight language-python"><span class="n">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#boxs.io.DelegatingStream.close" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Flush and close the IO object.</p>
<p>This method has no effect if the file is already closed.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/io.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.io.DelegatingStream.flush" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#boxs.io.DelegatingStream.flush" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Flush write buffers, if applicable.</p>
<p>This is not implemented for read-only and non-blocking streams.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/io.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h4 id="boxs.io.DelegatingStream.seek" class="doc doc-heading">
<code class="highlight language-python"><span class="n">seek</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">whence</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>


<a href="#boxs.io.DelegatingStream.seek" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Change stream position.</p>
<p>Change the stream position to the given byte offset. The offset is
interpreted relative to the position indicated by whence.  Values
for whence are:</p>
<ul>
<li>0 -- start of stream (the default); offset should be zero or positive</li>
<li>1 -- current stream position; offset may be negative</li>
<li>2 -- end of stream; offset is usually negative</li>
</ul>
<p>Return the new absolute position.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/io.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">seek</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">whence</span><span class="o">=</span><span class="n">io</span><span class="o">.</span><span class="n">SEEK_SET</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">whence</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.io.DelegatingStream.seekable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">seekable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#boxs.io.DelegatingStream.seekable" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Return whether object supports random access.</p>
<p>If False, seek(), tell() and truncate() will raise OSError.
This method may need to do a test seek().</p>

        <details class="quote">
          <summary>Source code in <code>boxs/io.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">seekable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">seekable</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.io.DelegatingStream.tell" class="doc doc-heading">
<code class="highlight language-python"><span class="n">tell</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#boxs.io.DelegatingStream.tell" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Return current stream position.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/io.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">tell</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.io.DelegatingStream.truncate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">truncate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#boxs.io.DelegatingStream.truncate" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Truncate file to size bytes.</p>
<p>File pointer is left unchanged.  Size defaults to the current IO
position as reported by tell().  Returns the new size.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/io.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">truncate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">truncate</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.io.DelegatingStream.writable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">writable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#boxs.io.DelegatingStream.writable" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Return whether object was opened for writing.</p>
<p>If False, write() will raise OSError.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/io.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">writable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">writable</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.origin" class="doc doc-heading">
        <code>origin</code>



<a href="#boxs.origin" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Origins of data</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="boxs.origin.ORIGIN_FROM_FUNCTION_NAME" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ORIGIN_FROM_FUNCTION_NAME</span></code>


<a href="#boxs.origin.ORIGIN_FROM_FUNCTION_NAME" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>OriginMappingFunction that uses the function_name as origin.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="boxs.origin.ORIGIN_FROM_NAME" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ORIGIN_FROM_NAME</span></code>


<a href="#boxs.origin.ORIGIN_FROM_NAME" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>OriginMappingFunction that uses the name as origin.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="boxs.origin.ORIGIN_FROM_TAGS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ORIGIN_FROM_TAGS</span></code>


<a href="#boxs.origin.ORIGIN_FROM_TAGS" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>OriginMappingFunction that uses the tags in JSON format as origin.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="boxs.origin.OriginMappingFunction" class="doc doc-heading">
<code class="highlight language-python"><span class="n">OriginMappingFunction</span></code>


<a href="#boxs.origin.OriginMappingFunction" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>A function that takes a OriginContext and returns the origin as string.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>context</code></td>
        <td><code>boxs.origin.OriginContext</code></td>
        <td><p>The context from which to derive the origin.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The origin.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="boxs.origin.OriginContext" class="doc doc-heading">
        <code>
OriginContext        </code>



<a href="#boxs.origin.OriginContext" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Context from which an origin mapping function can derive the origin.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>function_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the function that called.</p></td>
      </tr>
      <tr>
        <td><code>arg_info</code></td>
        <td><code>inspect.ArgInfo</code></td>
        <td><p>A data structure that contains the arguments of
the function which called.</p></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name that was given to <code>store()</code>.</p></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Dict[str,str]</code></td>
        <td><p>The tags this item will be assigned to.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">OriginContext</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Context from which an origin mapping function can derive the origin.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        function_name (str): The name of the function that called.</span>
<span class="sd">        arg_info (inspect.ArgInfo): A data structure that contains the arguments of</span>
<span class="sd">            the function which called.</span>
<span class="sd">        name (str): The name that was given to `store()`.</span>
<span class="sd">        tags (Dict[str,str]): The tags this item will be assigned to.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">level</span><span class="p">):</span>
            <span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_back</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">function_name</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_code</span><span class="o">.</span><span class="n">co_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arg_info</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getargvalues</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="boxs.origin.determine_origin" class="doc doc-heading">
<code class="highlight language-python"><span class="n">determine_origin</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></code>


<a href="#boxs.origin.determine_origin" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Determine an origin.</p>
<p>If the given origin is a callable, we run it and take its return value as new
origin.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>origin</code></td>
        <td><code>Union[str, OriginMappingFunction, Callable[[],str]]</code></td>
        <td><p>A string or a
callable that returns a string. The callable can either have no arguments
or a single argument of type <code>boxs.origin.OriginContext</code>.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Name that will be available in the OriginContext if needed.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Dict[str,str]</code></td>
        <td><p>Tags that will be available in the context if needed.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>level</code></td>
        <td><code>int</code></td>
        <td><p>The levels on the stack that we should go back. Defaults to 2
which selects the calling frame of determine_origin().</p></td>
        <td><code>2</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The origin as string.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">determine_origin</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determine an origin.</span>

<span class="sd">    If the given origin is a callable, we run it and take its return value as new</span>
<span class="sd">    origin.</span>

<span class="sd">    Args:</span>
<span class="sd">        origin (Union[str, OriginMappingFunction, Callable[[],str]]): A string or a</span>
<span class="sd">            callable that returns a string. The callable can either have no arguments</span>
<span class="sd">            or a single argument of type `boxs.origin.OriginContext`.</span>
<span class="sd">        name (str): Name that will be available in the OriginContext if needed.</span>
<span class="sd">        tags (Dict[str,str]): Tags that will be available in the context if needed.</span>
<span class="sd">        level (int): The levels on the stack that we should go back. Defaults to 2</span>
<span class="sd">            which selects the calling frame of determine_origin().</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The origin as string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="n">origin</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">origin</span><span class="p">)</span><span class="o">.</span><span class="n">parameters</span><span class="p">:</span>
            <span class="n">context</span> <span class="o">=</span> <span class="n">OriginContext</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">level</span><span class="p">)</span>
            <span class="n">origin</span> <span class="o">=</span> <span class="n">origin</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">origin</span> <span class="o">=</span> <span class="n">origin</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">origin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No origin given (is &#39;None&#39;).&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">origin</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.pandas" class="doc doc-heading">
        <code>pandas</code>



<a href="#boxs.pandas" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Value type definitions for pandas specific classes</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h3 id="boxs.pandas.PandasDataFrameCsvValueType" class="doc doc-heading">
        <code>
PandasDataFrameCsvValueType            (<a title="boxs.value_types.StringValueType" href="#boxs.value_types.StringValueType">StringValueType</a>)
        </code>



<a href="#boxs.pandas.PandasDataFrameCsvValueType" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>A value type for storing and loading pandas DataFrame.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/pandas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PandasDataFrameCsvValueType</span><span class="p">(</span><span class="n">StringValueType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A value type for storing and loading pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">writer</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">stream</span><span class="p">,</span> <span class="n">io</span><span class="o">.</span><span class="n">TextIOWrapper</span><span class="p">(</span>
            <span class="n">stream</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_default_encoding</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">text_writer</span><span class="p">:</span>
            <span class="n">value</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">text_writer</span><span class="p">)</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">meta</span><span class="p">[</span><span class="s1">&#39;encoding&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_encoding</span>

    <span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
        <span class="n">encoding</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;encoding&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_encoding</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">reader</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">stream</span><span class="p">:</span>
            <span class="n">text_stream</span> <span class="o">=</span> <span class="n">codecs</span><span class="o">.</span><span class="n">getreader</span><span class="p">(</span><span class="n">encoding</span><span class="p">)(</span><span class="n">stream</span><span class="p">)</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="n">text_stream</span><span class="p">,</span> <span class="s1">&#39;mode&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">text_stream</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="boxs.pandas.PandasDataFrameCsvValueType.read_value_from_reader" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span></code>


<a href="#boxs.pandas.PandasDataFrameCsvValueType.read_value_from_reader" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Read a value from the reader.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>reader</code></td>
        <td><code>boxs.storage.Reader</code></td>
        <td><p>The reader from which the value should be
read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The value that was read from the reader.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/pandas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
    <span class="n">encoding</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;encoding&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_encoding</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">reader</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">stream</span><span class="p">:</span>
        <span class="n">text_stream</span> <span class="o">=</span> <span class="n">codecs</span><span class="o">.</span><span class="n">getreader</span><span class="p">(</span><span class="n">encoding</span><span class="p">)(</span><span class="n">stream</span><span class="p">)</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">text_stream</span><span class="p">,</span> <span class="s1">&#39;mode&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">text_stream</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.pandas.PandasDataFrameCsvValueType.supports" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#boxs.pandas.PandasDataFrameCsvValueType.supports" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns if the value type can be used for reading a writing the given value.</p>
<p>This method is used to determine if a value can be read and written by a value
type. It is only necessary, if the value type should be picked up
automatically. If it is only used explicitly, no check is performed.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value for which the value type should be checked.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the value type supports this value, otherwise <code>False</code>.
    The default implementation just returns <code>False</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/pandas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.pandas.PandasDataFrameCsvValueType.write_value_to_writer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span></code>


<a href="#boxs.pandas.PandasDataFrameCsvValueType.write_value_to_writer" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Write the given value to the writer.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value that should be written.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>writer</code></td>
        <td><code>boxs.storage.Writer</code></td>
        <td><p>The writer into which the value should be
written.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/pandas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">writer</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">stream</span><span class="p">,</span> <span class="n">io</span><span class="o">.</span><span class="n">TextIOWrapper</span><span class="p">(</span>
        <span class="n">stream</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_default_encoding</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">text_writer</span><span class="p">:</span>
        <span class="n">value</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">text_writer</span><span class="p">)</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">meta</span><span class="p">[</span><span class="s1">&#39;encoding&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_encoding</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.run" class="doc doc-heading">
        <code>run</code>



<a href="#boxs.run" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Functions for managing the run id.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h3 id="boxs.run.get_run_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_id</span><span class="p">()</span></code>


<a href="#boxs.run.get_run_id" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Returns the run id.</p>
<p>The run id is a unique identifier that is specific to an individual run of a
workflow. It stays the same across all task executions and can be used for
tracking metrics and differentiating between different runs of the same workflow
where task_id and run_id stay the same.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The unique run id.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/run.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run_id</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the run id.</span>

<span class="sd">    The run id is a unique identifier that is specific to an individual run of a</span>
<span class="sd">    workflow. It stays the same across all task executions and can be used for</span>
<span class="sd">    tracking metrics and differentiating between different runs of the same workflow</span>
<span class="sd">    where task_id and run_id stay the same.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The unique run id.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">_RUN_ID</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">set_run_id</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid1</span><span class="p">()))</span>
    <span class="k">return</span> <span class="n">_RUN_ID</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="boxs.run.set_run_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_run_id</span><span class="p">(</span><span class="n">run_id</span><span class="p">)</span></code>


<a href="#boxs.run.set_run_id" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Sets the run id.</p>
<p>Setting the run id explicitly is usually not necessary. The function is mainly
used when task executions are run in a different process to make sure the run id
is consistent with the spawning process, but it can be used e.g. if an external
system provides a unique identifier for a specific workflow run.</p>
<p>When <code>set_run_id(run_id)</code> is being used, it must be run before the first tasks
are actually defined.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the run id was already set before.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/run.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_run_id</span><span class="p">(</span><span class="n">run_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the run id.</span>

<span class="sd">    Setting the run id explicitly is usually not necessary. The function is mainly</span>
<span class="sd">    used when task executions are run in a different process to make sure the run id</span>
<span class="sd">    is consistent with the spawning process, but it can be used e.g. if an external</span>
<span class="sd">    system provides a unique identifier for a specific workflow run.</span>

<span class="sd">    When `set_run_id(run_id)` is being used, it must be run before the first tasks</span>
<span class="sd">    are actually defined.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the run id was already set before.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">_RUN_ID</span>  <span class="c1"># pylint: disable=global-statement</span>
    <span class="k">if</span> <span class="n">_RUN_ID</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;run_id already set to </span><span class="si">%s</span><span class="s2"> when trying to set again&quot;</span><span class="p">,</span> <span class="n">_RUN_ID</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Run ID was already set&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Set run_id to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span>
    <span class="n">_RUN_ID</span> <span class="o">=</span> <span class="n">run_id</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.statistics" class="doc doc-heading">
        <code>statistics</code>



<a href="#boxs.statistics" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Collecting statistics about data</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="boxs.statistics.StatisticsTransformer" class="doc doc-heading">
        <code>
StatisticsTransformer            (<a title="boxs.transform.Transformer" href="#boxs.transform.Transformer">Transformer</a>)
        </code>



<a href="#boxs.statistics.StatisticsTransformer" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Transformer that collects statistics about data items.</p>
<p>This transformer gathers statistics like size of the data, number of lines in the
data or time when it was stored and adds those as additional values in the data's
meta-data. The following meta-data values are set:</p>
<ul>
<li>'size_in_bytes' as int</li>
<li>'number_of_lines' as int</li>
<li>'store_start' Timestamp in ISO-format when the storing of the data started.</li>
<li>'store_end' Timestamp in ISO-format when the storing of the data finished.</li>
</ul>

        <details class="quote">
          <summary>Source code in <code>boxs/statistics.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StatisticsTransformer</span><span class="p">(</span><span class="n">Transformer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transformer that collects statistics about data items.</span>

<span class="sd">    This transformer gathers statistics like size of the data, number of lines in the</span>
<span class="sd">    data or time when it was stored and adds those as additional values in the data&#39;s</span>
<span class="sd">    meta-data. The following meta-data values are set:</span>

<span class="sd">    - &#39;size_in_bytes&#39; as int</span>
<span class="sd">    - &#39;number_of_lines&#39; as int</span>
<span class="sd">    - &#39;store_start&#39; Timestamp in ISO-format when the storing of the data started.</span>
<span class="sd">    - &#39;store_end&#39; Timestamp in ISO-format when the storing of the data finished.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">transform_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_StatisticsWriter</span><span class="p">(</span><span class="n">writer</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="boxs.statistics.StatisticsTransformer.transform_writer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">transform_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span></code>


<a href="#boxs.statistics.StatisticsTransformer.transform_writer" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Transform a given writer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>writer</code></td>
        <td><code>boxs.storage.Writer</code></td>
        <td><p>Writer object that is used for writing
new data content and meta-data.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.storage.Writer</code></td>
      <td><p>A modified writer that will be used instead.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/statistics.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">transform_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_StatisticsWriter</span><span class="p">(</span><span class="n">writer</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.storage" class="doc doc-heading">
        <code>storage</code>



<a href="#boxs.storage" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Interface to backend storage</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="boxs.storage.Item" class="doc doc-heading">
        <code>
Item            (<a title="boxs.storage.Item" href="#boxs.storage.Item">Item</a>)
        </code>



<a href="#boxs.storage.Item" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>A class representing a data item.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Item</span><span class="p">(</span><span class="n">collections</span><span class="o">.</span><span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Item&#39;</span><span class="p">,</span> <span class="s1">&#39;box_id data_id run_id name time&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class representing a data item.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Item(boxs://</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_id</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">run_id</span><span class="si">}</span><span class="s2">)&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.storage.ItemQuery" class="doc doc-heading">
        <code>
ItemQuery        </code>



<a href="#boxs.storage.ItemQuery" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Query object that allows to query a Storage for items.</p>
<p>The query is build from a string with up to 3 components separated by ':'.
The individual components are the <box-id>:<data-id>:<run-id>.
A query doesn't have to contain all components, but it needs to contain at least
one with its trailing ':'.</p>
<p>All components are treated as prefixes, so one doesn't have to write the full ids.</p>

<p><strong>Examples:</strong></p>
    <h4 id="boxs.storage.ItemQuery--query-all-items-in-a-specific-run">Query all items in a specific run<a class="headerlink" href="#boxs.storage.ItemQuery--query-all-items-in-a-specific-run" title="Permanent link"></a></h4>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">ItemQuery</span><span class="p">(</span><span class="s1">&#39;my-run-id&#39;</span><span class="p">)</span>
<span class="c1"># or with written separators</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">ItemQuery</span><span class="p">(</span><span class="s1">&#39;::my-run-id&#39;</span><span class="p">)</span>
</code></pre></div>
    <h4 id="boxs.storage.ItemQuery--query-all-items-with-the-same-data-id-in-all-runs">Query all items with the same data-id in all runs<a class="headerlink" href="#boxs.storage.ItemQuery--query-all-items-with-the-same-data-id-in-all-runs" title="Permanent link"></a></h4>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">ItemQuery</span><span class="p">(</span><span class="s1">&#39;my-data-id:&#39;</span><span class="p">)</span>
</code></pre></div>
    <h4 id="boxs.storage.ItemQuery--query-all-items-with-the-same-data-id-in-specific-runs-with-a-shared-prefix">Query all items with the same data-id in specific runs with a shared prefix<a class="headerlink" href="#boxs.storage.ItemQuery--query-all-items-with-the-same-data-id-in-specific-runs-with-a-shared-prefix" title="Permanent link"></a></h4>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">ItemQuery</span><span class="p">(</span><span class="s1">&#39;my-data-id:my-run&#39;</span><span class="p">)</span>
<span class="c1"># for multiple runs like e.g. my-run-1 and my-run-2</span>
</code></pre></div>
    <h4 id="boxs.storage.ItemQuery--query-everything-in-a-specific-box">Query everything in a specific box:<a class="headerlink" href="#boxs.storage.ItemQuery--query-everything-in-a-specific-box" title="Permanent link"></a></h4>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">ItemQuery</span><span class="p">(</span><span class="s1">&#39;box-id::&#39;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>box</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The optional box id.</p></td>
      </tr>
      <tr>
        <td><code>data</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The optional prefix for data ids or names.</p></td>
      </tr>
      <tr>
        <td><code>run</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The optional prefix for run ids or names.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ItemQuery</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Query object that allows to query a Storage for items.</span>

<span class="sd">    The query is build from a string with up to 3 components separated by &#39;:&#39;.</span>
<span class="sd">    The individual components are the &lt;box-id&gt;:&lt;data-id&gt;:&lt;run-id&gt;.</span>
<span class="sd">    A query doesn&#39;t have to contain all components, but it needs to contain at least</span>
<span class="sd">    one with its trailing &#39;:&#39;.</span>

<span class="sd">    All components are treated as prefixes, so one doesn&#39;t have to write the full ids.</span>


<span class="sd">    Examples:</span>
<span class="sd">        # Query all items in a specific run</span>
<span class="sd">        &gt;&gt;&gt; ItemQuery(&#39;my-run-id&#39;)</span>
<span class="sd">        # or with written separators</span>
<span class="sd">        &gt;&gt;&gt; ItemQuery(&#39;::my-run-id&#39;)</span>

<span class="sd">        # Query all items with the same data-id in all runs</span>
<span class="sd">        &gt;&gt;&gt; ItemQuery(&#39;my-data-id:&#39;)</span>

<span class="sd">        # Query all items with the same data-id in specific runs with a shared prefix</span>
<span class="sd">        &gt;&gt;&gt; ItemQuery(&#39;my-data-id:my-run&#39;)</span>
<span class="sd">        # for multiple runs like e.g. my-run-1 and my-run-2</span>

<span class="sd">        # Query everything in a specific box:</span>
<span class="sd">        &gt;&gt;&gt; ItemQuery(&#39;box-id::&#39;)</span>

<span class="sd">    Attributes:</span>
<span class="sd">        box (Optional[str]): The optional box id.</span>
<span class="sd">        data (Optional[str]): The optional prefix for data ids or names.</span>
<span class="sd">        run (Optional[str]): The optional prefix for run ids or names.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">or</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">or</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid query, must be in format &#39;&lt;box&gt;:&lt;data&gt;:&lt;run&gt;&#39;.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">box</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Neither, box, data or run is specified.&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_fields</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an ItemQuery from the individual fields of the query.</span>

<span class="sd">        Args:</span>
<span class="sd">            box (Optional[str]): The search string for boxes. Defaults to `None`</span>
<span class="sd">                matching all boxes.</span>
<span class="sd">            data (Optional[str]): The search string for data items. Defaults to `None`</span>
<span class="sd">                matching all data items.</span>
<span class="sd">            run (Optional[str]): The search string for run. Defaults to `None`</span>
<span class="sd">                matching all runs.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ItemQuery: The new item query with the given search fields.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ItemQuery</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">box</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">data</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">run</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">]))</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;:&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">box</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">])</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h4 id="boxs.storage.ItemQuery.from_fields" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_fields</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#boxs.storage.ItemQuery.from_fields" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Create an ItemQuery from the individual fields of the query.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>box</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The search string for boxes. Defaults to <code>None</code>
matching all boxes.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>data</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The search string for data items. Defaults to <code>None</code>
matching all data items.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>run</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The search string for run. Defaults to <code>None</code>
matching all runs.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ItemQuery</code></td>
      <td><p>The new item query with the given search fields.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_fields</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create an ItemQuery from the individual fields of the query.</span>

<span class="sd">    Args:</span>
<span class="sd">        box (Optional[str]): The search string for boxes. Defaults to `None`</span>
<span class="sd">            matching all boxes.</span>
<span class="sd">        data (Optional[str]): The search string for data items. Defaults to `None`</span>
<span class="sd">            matching all data items.</span>
<span class="sd">        run (Optional[str]): The search string for run. Defaults to `None`</span>
<span class="sd">            matching all runs.</span>

<span class="sd">    Returns:</span>
<span class="sd">        ItemQuery: The new item query with the given search fields.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">ItemQuery</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">box</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">data</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">run</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">]))</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.storage.Reader" class="doc doc-heading">
        <code>
Reader            (<span title="abc.ABC">ABC</span>)
        </code>



<a href="#boxs.storage.Reader" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Base class for the storage specific reader implementations.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Reader</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">ABC</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Base class for the storage specific reader implementations.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a `Reader` instance, that allows to load existing data.</span>

<span class="sd">        Args:</span>
<span class="sd">            item (boxs.storage.Item): The `item` with the data that should be</span>
<span class="sd">                loaded.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_item</span> <span class="o">=</span> <span class="n">item</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The item of the data that this reader can read.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_item</span>

    <span class="k">def</span> <span class="nf">read_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read the value and return it.</span>

<span class="sd">        Args:</span>
<span class="sd">            value_type (boxs.value_types.ValueType): The value type that reads the</span>
<span class="sd">                value from the reader and converts it to the correct type.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Any: The returned value from the `value_type`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">value_type</span><span class="o">.</span><span class="n">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Dictionary containing information about the data.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">meta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Dictionary containing the meta-data about the data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;meta&#39;</span><span class="p">]</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">as_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a stream from which the data content can be read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            io.RawIOBase: A stream instance from which the data can be read.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="boxs.storage.Reader.info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">info</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.storage.Reader.info" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Dictionary containing information about the data.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="boxs.storage.Reader.item" class="doc doc-heading">
<code class="highlight language-python"><span class="n">item</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.storage.Reader.item" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>The item of the data that this reader can read.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="boxs.storage.Reader.meta" class="doc doc-heading">
<code class="highlight language-python"><span class="n">meta</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.storage.Reader.meta" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Dictionary containing the meta-data about the data.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="boxs.storage.Reader.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#boxs.storage.Reader.__init__" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Creates a <code>Reader</code> instance, that allows to load existing data.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>item</code></td>
        <td><code>boxs.storage.Item</code></td>
        <td><p>The <code>item</code> with the data that should be
loaded.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a `Reader` instance, that allows to load existing data.</span>

<span class="sd">    Args:</span>
<span class="sd">        item (boxs.storage.Item): The `item` with the data that should be</span>
<span class="sd">            loaded.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_item</span> <span class="o">=</span> <span class="n">item</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.storage.Reader.as_stream" class="doc doc-heading">
<code class="highlight language-python"><span class="n">as_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#boxs.storage.Reader.as_stream" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Return a stream from which the data content can be read.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>io.RawIOBase</code></td>
      <td><p>A stream instance from which the data can be read.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">as_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a stream from which the data content can be read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        io.RawIOBase: A stream instance from which the data can be read.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.storage.Reader.read_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span></code>


<a href="#boxs.storage.Reader.read_value" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Read the value and return it.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value_type</code></td>
        <td><code>boxs.value_types.ValueType</code></td>
        <td><p>The value type that reads the
value from the reader and converts it to the correct type.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The returned value from the <code>value_type</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read the value and return it.</span>

<span class="sd">    Args:</span>
<span class="sd">        value_type (boxs.value_types.ValueType): The value type that reads the</span>
<span class="sd">            value from the reader and converts it to the correct type.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Any: The returned value from the `value_type`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">value_type</span><span class="o">.</span><span class="n">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.storage.Run" class="doc doc-heading">
        <code>
Run            (<a title="boxs.storage.Run" href="#boxs.storage.Run">Run</a>)
        </code>



<a href="#boxs.storage.Run" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>A class representing a run.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Run</span><span class="p">(</span><span class="n">collections</span><span class="o">.</span><span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Run&#39;</span><span class="p">,</span> <span class="s1">&#39;box_id run_id name time&#39;</span><span class="p">)):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class representing a run.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Run(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">run_id</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">o</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span> <span class="n">o</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">box_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_id</span><span class="p">))</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.storage.Storage" class="doc doc-heading">
        <code>
Storage            (<span title="abc.ABC">ABC</span>)
        </code>



<a href="#boxs.storage.Storage" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Backend that allows a box to store and load data in arbitrary storage locations.</p>
<p>This abstract base class defines the interface, that is used by <code>Box</code> to store
and load data. The data items between <code>Box</code> and <code>Storage</code> are always identified
by their <code>box_id</code>, <code>data_id</code> and <code>run_id</code>. The functionality to store data is
provided by the <code>Writer</code> object, that is created by the <code>create_writer()</code> method.
Similarly, loading data is implemented in a separate <code>Reader</code> object that is
created by <code>create_reader()</code>.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Storage</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">ABC</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Backend that allows a box to store and load data in arbitrary storage locations.</span>

<span class="sd">    This abstract base class defines the interface, that is used by `Box` to store</span>
<span class="sd">    and load data. The data items between `Box` and `Storage` are always identified</span>
<span class="sd">    by their `box_id`, `data_id` and `run_id`. The functionality to store data is</span>
<span class="sd">    provided by the `Writer` object, that is created by the `create_writer()` method.</span>
<span class="sd">    Similarly, loading data is implemented in a separate `Reader` object that is</span>
<span class="sd">    created by `create_reader()`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a `Reader` instance, that allows to load existing data.</span>

<span class="sd">        Args:</span>
<span class="sd">            item (boxs.storage.Item): The item that should be read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            boxs.storage.Reader: The reader that will load the data from the</span>
<span class="sd">                storage.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a `Writer` instance, that allows to store new data.</span>

<span class="sd">        Args:</span>
<span class="sd">            item (boxs.storage.Item): The new data item.</span>
<span class="sd">            name (str): An optional name, that can be used for referring to this item</span>
<span class="sd">                within the run. Defaults to `None`.</span>
<span class="sd">            tags (Dict[str,str]): A dictionary containing tags that can be used for</span>
<span class="sd">                grouping multiple items together. Defaults to an empty dictionary.</span>

<span class="sd">        Returns:</span>
<span class="sd">            boxs.storage.Writer: The writer that will write the data into the</span>
<span class="sd">                storage.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_runs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name_filter</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        List the runs within a box stored in this storage.</span>

<span class="sd">        The runs should be returned in descending order of their start time.</span>

<span class="sd">        Args:</span>
<span class="sd">            box_id (str): `box_id` of the box in which to look for runs.</span>
<span class="sd">            limit (Optional[int]): Limits the returned runs to maximum `limit` number.</span>
<span class="sd">                Defaults to `None` in which case all runs are returned.</span>
<span class="sd">            name_filter (Optional[str]): If set, only include runs which have names</span>
<span class="sd">                that have the filter as prefix. Defaults to `None` in which case all</span>
<span class="sd">                runs are returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[box.storage.Run]: The runs.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_query</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        List all items that match a given query.</span>

<span class="sd">        The item query can contain parts of box id, run id or run name and data id or</span>
<span class="sd">        data name. If a query value is not set (`== None`) it is not used as a filter</span>
<span class="sd">        criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            item_query (boxs.storage.ItemQuery): The query which defines which items</span>
<span class="sd">                should be listed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[box.storage.Item]: The runs.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">set_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the name of a run.</span>

<span class="sd">        The name can be updated and removed by providing `None`.</span>

<span class="sd">        Args;</span>
<span class="sd">            box_id (str): `box_id` of the box in which the run is stored.</span>
<span class="sd">            run_id (str): Run id of the run which should be named.</span>
<span class="sd">            name (Optional[str]): New name of the run. If `None`, an existing name</span>
<span class="sd">                will be removed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            box.storage.Run: The run with its new name.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete all the data of the specified run.</span>

<span class="sd">        Args;</span>
<span class="sd">            box_id (str): `box_id` of the box in which the run is stored.</span>
<span class="sd">            run_id (str): Run id of the run which should be deleted.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="boxs.storage.Storage.create_reader" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span></code>


<a href="#boxs.storage.Storage.create_reader" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Creates a <code>Reader</code> instance, that allows to load existing data.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>item</code></td>
        <td><code>boxs.storage.Item</code></td>
        <td><p>The item that should be read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.storage.Reader</code></td>
      <td><p>The reader that will load the data from the
    storage.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">create_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a `Reader` instance, that allows to load existing data.</span>

<span class="sd">    Args:</span>
<span class="sd">        item (boxs.storage.Item): The item that should be read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boxs.storage.Reader: The reader that will load the data from the</span>
<span class="sd">            storage.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.storage.Storage.create_writer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#boxs.storage.Storage.create_writer" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Creates a <code>Writer</code> instance, that allows to store new data.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>item</code></td>
        <td><code>boxs.storage.Item</code></td>
        <td><p>The new data item.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>An optional name, that can be used for referring to this item
within the run. Defaults to <code>None</code>.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Dict[str,str]</code></td>
        <td><p>A dictionary containing tags that can be used for
grouping multiple items together. Defaults to an empty dictionary.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.storage.Writer</code></td>
      <td><p>The writer that will write the data into the
    storage.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">create_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a `Writer` instance, that allows to store new data.</span>

<span class="sd">    Args:</span>
<span class="sd">        item (boxs.storage.Item): The new data item.</span>
<span class="sd">        name (str): An optional name, that can be used for referring to this item</span>
<span class="sd">            within the run. Defaults to `None`.</span>
<span class="sd">        tags (Dict[str,str]): A dictionary containing tags that can be used for</span>
<span class="sd">            grouping multiple items together. Defaults to an empty dictionary.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boxs.storage.Writer: The writer that will write the data into the</span>
<span class="sd">            storage.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.storage.Storage.delete_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span></code>


<a href="#boxs.storage.Storage.delete_run" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Delete all the data of the specified run.</p>
<p>Args;
    box_id (str): <code>box_id</code> of the box in which the run is stored.
    run_id (str): Run id of the run which should be deleted.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete all the data of the specified run.</span>

<span class="sd">    Args;</span>
<span class="sd">        box_id (str): `box_id` of the box in which the run is stored.</span>
<span class="sd">        run_id (str): Run id of the run which should be deleted.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.storage.Storage.list_items" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_query</span><span class="p">)</span></code>


<a href="#boxs.storage.Storage.list_items" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>List all items that match a given query.</p>
<p>The item query can contain parts of box id, run id or run name and data id or
data name. If a query value is not set (<code>== None</code>) it is not used as a filter
criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>item_query</code></td>
        <td><code>boxs.storage.ItemQuery</code></td>
        <td><p>The query which defines which items
should be listed.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[box.storage.Item]</code></td>
      <td><p>The runs.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">list_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_query</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    List all items that match a given query.</span>

<span class="sd">    The item query can contain parts of box id, run id or run name and data id or</span>
<span class="sd">    data name. If a query value is not set (`== None`) it is not used as a filter</span>
<span class="sd">    criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        item_query (boxs.storage.ItemQuery): The query which defines which items</span>
<span class="sd">            should be listed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[box.storage.Item]: The runs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.storage.Storage.list_runs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_runs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name_filter</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#boxs.storage.Storage.list_runs" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>List the runs within a box stored in this storage.</p>
<p>The runs should be returned in descending order of their start time.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>box_id</code></td>
        <td><code>str</code></td>
        <td><p><code>box_id</code> of the box in which to look for runs.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>limit</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>Limits the returned runs to maximum <code>limit</code> number.
Defaults to <code>None</code> in which case all runs are returned.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>name_filter</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>If set, only include runs which have names
that have the filter as prefix. Defaults to <code>None</code> in which case all
runs are returned.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[box.storage.Run]</code></td>
      <td><p>The runs.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">list_runs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name_filter</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    List the runs within a box stored in this storage.</span>

<span class="sd">    The runs should be returned in descending order of their start time.</span>

<span class="sd">    Args:</span>
<span class="sd">        box_id (str): `box_id` of the box in which to look for runs.</span>
<span class="sd">        limit (Optional[int]): Limits the returned runs to maximum `limit` number.</span>
<span class="sd">            Defaults to `None` in which case all runs are returned.</span>
<span class="sd">        name_filter (Optional[str]): If set, only include runs which have names</span>
<span class="sd">            that have the filter as prefix. Defaults to `None` in which case all</span>
<span class="sd">            runs are returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[box.storage.Run]: The runs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.storage.Storage.set_run_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>


<a href="#boxs.storage.Storage.set_run_name" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Set the name of a run.</p>
<p>The name can be updated and removed by providing <code>None</code>.</p>
<p>Args;
    box_id (str): <code>box_id</code> of the box in which the run is stored.
    run_id (str): Run id of the run which should be named.
    name (Optional[str]): New name of the run. If <code>None</code>, an existing name
        will be removed.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>box.storage.Run</code></td>
      <td><p>The run with its new name.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">set_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">box_id</span><span class="p">,</span> <span class="n">run_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set the name of a run.</span>

<span class="sd">    The name can be updated and removed by providing `None`.</span>

<span class="sd">    Args;</span>
<span class="sd">        box_id (str): `box_id` of the box in which the run is stored.</span>
<span class="sd">        run_id (str): Run id of the run which should be named.</span>
<span class="sd">        name (Optional[str]): New name of the run. If `None`, an existing name</span>
<span class="sd">            will be removed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        box.storage.Run: The run with its new name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.storage.Writer" class="doc doc-heading">
        <code>
Writer            (<span title="abc.ABC">ABC</span>)
        </code>



<a href="#boxs.storage.Writer" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Base class for the storage specific writer implementations.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Writer</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">ABC</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Base class for the storage specific writer implementations.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">tags</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a `Writer` instance, that allows to store new data.</span>

<span class="sd">        Args:</span>
<span class="sd">            item (boxs.storage.Item): The new item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_item</span> <span class="o">=</span> <span class="n">item</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">item</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the item which this writer writes to.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_item</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the name of the new data item.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">tags</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the tags of the new data item.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tags</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">meta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a dictionary which contains meta-data of the item.</span>

<span class="sd">        This allows either ValueTypes or Transformers to add additional</span>
<span class="sd">        meta-data for the data item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span>

    <span class="k">def</span> <span class="nf">write_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">value_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Write the data content to the storage.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (Any): The value that should be written to the writer.</span>
<span class="sd">            value_type (boxs.value_types.ValueType): The value type that takes care</span>
<span class="sd">                of actually writing the value and converting it to the correct type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value_type</span><span class="o">.</span><span class="n">write_value_to_writer</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">write_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">info</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Write the info for the data item to the storage.</span>

<span class="sd">        Args:</span>
<span class="sd">            info (Dict[str,Any]): The information about the new data item.</span>

<span class="sd">        Raises:</span>
<span class="sd">            boxs.errors.DataCollision: If a data item with the same ids already</span>
<span class="sd">                exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">as_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a stream to which the data content should be written.</span>

<span class="sd">        This method can be used by the ValueType to actually transfer the data.</span>

<span class="sd">        Returns:</span>
<span class="sd">            io.RawIOBase: The binary io-stream.</span>

<span class="sd">        Raises:</span>
<span class="sd">            boxs.errors.DataCollision: If a data item with the same ids already</span>
<span class="sd">                exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="boxs.storage.Writer.item" class="doc doc-heading">
<code class="highlight language-python"><span class="n">item</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.storage.Writer.item" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns the item which this writer writes to.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="boxs.storage.Writer.meta" class="doc doc-heading">
<code class="highlight language-python"><span class="n">meta</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.storage.Writer.meta" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns a dictionary which contains meta-data of the item.</p>
<p>This allows either ValueTypes or Transformers to add additional
meta-data for the data item.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="boxs.storage.Writer.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.storage.Writer.name" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns the name of the new data item.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="boxs.storage.Writer.tags" class="doc doc-heading">
<code class="highlight language-python"><span class="n">tags</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.storage.Writer.tags" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns the tags of the new data item.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="boxs.storage.Writer.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">tags</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#boxs.storage.Writer.__init__" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Creates a <code>Writer</code> instance, that allows to store new data.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>item</code></td>
        <td><code>boxs.storage.Item</code></td>
        <td><p>The new item.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">tags</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a `Writer` instance, that allows to store new data.</span>

<span class="sd">    Args:</span>
<span class="sd">        item (boxs.storage.Item): The new item.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_item</span> <span class="o">=</span> <span class="n">item</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_tags</span> <span class="o">=</span> <span class="n">tags</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.storage.Writer.as_stream" class="doc doc-heading">
<code class="highlight language-python"><span class="n">as_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#boxs.storage.Writer.as_stream" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Return a stream to which the data content should be written.</p>
<p>This method can be used by the ValueType to actually transfer the data.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>io.RawIOBase</code></td>
      <td><p>The binary io-stream.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>boxs.errors.DataCollision</code></td>
        <td><p>If a data item with the same ids already
exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">as_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a stream to which the data content should be written.</span>

<span class="sd">    This method can be used by the ValueType to actually transfer the data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        io.RawIOBase: The binary io-stream.</span>

<span class="sd">    Raises:</span>
<span class="sd">        boxs.errors.DataCollision: If a data item with the same ids already</span>
<span class="sd">            exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.storage.Writer.write_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span></code>


<a href="#boxs.storage.Writer.write_info" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Write the info for the data item to the storage.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>info</code></td>
        <td><code>Dict[str,Any]</code></td>
        <td><p>The information about the new data item.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>boxs.errors.DataCollision</code></td>
        <td><p>If a data item with the same ids already
exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">write_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">info</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Write the info for the data item to the storage.</span>

<span class="sd">    Args:</span>
<span class="sd">        info (Dict[str,Any]): The information about the new data item.</span>

<span class="sd">    Raises:</span>
<span class="sd">        boxs.errors.DataCollision: If a data item with the same ids already</span>
<span class="sd">            exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.storage.Writer.write_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span></code>


<a href="#boxs.storage.Writer.write_value" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Write the data content to the storage.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value that should be written to the writer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>value_type</code></td>
        <td><code>boxs.value_types.ValueType</code></td>
        <td><p>The value type that takes care
of actually writing the value and converting it to the correct type.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/storage.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">value_type</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Write the data content to the storage.</span>

<span class="sd">    Args:</span>
<span class="sd">        value (Any): The value that should be written to the writer.</span>
<span class="sd">        value_type (boxs.value_types.ValueType): The value type that takes care</span>
<span class="sd">            of actually writing the value and converting it to the correct type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">value_type</span><span class="o">.</span><span class="n">write_value_to_writer</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.tensorflow" class="doc doc-heading">
        <code>tensorflow</code>



<a href="#boxs.tensorflow" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Value type definitions for storing tensorflow specific classes</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h3 id="boxs.tensorflow.TensorBoardLogDirValueType" class="doc doc-heading">
        <code>
TensorBoardLogDirValueType            (<a title="boxs.value_types.DirectoryValueType" href="#boxs.value_types.DirectoryValueType">DirectoryValueType</a>)
        </code>



<a href="#boxs.tensorflow.TensorBoardLogDirValueType" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Value type for storing tensorbord logs.</p>
<p>The necessary tensorflow functions for saving and loading the model to a directory
are dynamically loaded, so that the module can be imported WITHOUT tensorflow.
Only if one instantiates an instance of the class, the tensorflow package must be
available.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/tensorflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TensorBoardLogDirValueType</span><span class="p">(</span><span class="n">DirectoryValueType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Value type for storing tensorbord logs.</span>

<span class="sd">    The necessary tensorflow functions for saving and loading the model to a directory</span>
<span class="sd">    are dynamically loaded, so that the module can be imported WITHOUT tensorflow.</span>
<span class="sd">    Only if one instantiates an instance of the class, the tensorflow package must be</span>
<span class="sd">    available.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">write_value_to_writer</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="n">writer</span><span class="p">)</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">meta</span><span class="p">[</span><span class="s1">&#39;dir_content&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;tensorboard-logs&#39;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="boxs.tensorflow.TensorBoardLogDirValueType.write_value_to_writer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span></code>


<a href="#boxs.tensorflow.TensorBoardLogDirValueType.write_value_to_writer" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Write the given value to the writer.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value that should be written.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>writer</code></td>
        <td><code>boxs.storage.Writer</code></td>
        <td><p>The writer into which the value should be
written.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/tensorflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">write_value_to_writer</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="n">writer</span><span class="p">)</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">meta</span><span class="p">[</span><span class="s1">&#39;dir_content&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;tensorboard-logs&#39;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.tensorflow.TensorflowKerasModelValueType" class="doc doc-heading">
        <code>
TensorflowKerasModelValueType            (<a title="boxs.value_types.DirectoryValueType" href="#boxs.value_types.DirectoryValueType">DirectoryValueType</a>)
        </code>



<a href="#boxs.tensorflow.TensorflowKerasModelValueType" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Value type for storing tensorflow keras models.</p>
<p>The necessary tensorflow functions for saving and loading the model to a directory
are dynamically loaded, so that the module can be imported WITHOUT tensorflow.
Only if one instantiates an instance of the class, the tensorflow package must be
available.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/tensorflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TensorflowKerasModelValueType</span><span class="p">(</span><span class="n">DirectoryValueType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Value type for storing tensorflow keras models.</span>

<span class="sd">    The necessary tensorflow functions for saving and loading the model to a directory</span>
<span class="sd">    are dynamically loaded, so that the module can be imported WITHOUT tensorflow.</span>
<span class="sd">    Only if one instantiates an instance of the class, the tensorflow package must be</span>
<span class="sd">    available.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dir_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">default_format</span><span class="o">=</span><span class="s1">&#39;tf&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tf_models_module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s1">&#39;tensorflow.keras.models&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_format</span> <span class="o">=</span> <span class="n">default_format</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">dir_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
        <span class="n">model_dir_path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">())</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tf_models_module</span><span class="o">.</span><span class="n">save_model</span><span class="p">(</span>
                <span class="n">value</span><span class="p">,</span> <span class="n">filepath</span><span class="o">=</span><span class="n">model_dir_path</span><span class="p">,</span> <span class="n">save_format</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_default_format</span>
            <span class="p">)</span>

            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">write_value_to_writer</span><span class="p">(</span><span class="n">model_dir_path</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span>
            <span class="n">writer</span><span class="o">.</span><span class="n">meta</span><span class="p">[</span><span class="s1">&#39;model_format&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_format</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">model_dir_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
        <span class="n">model_dir_path</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">read_value_from_reader</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tf_models_module</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="n">model_dir_path</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dir_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">model_dir_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">_get_parameter_string</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_format</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_from_parameter_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parameters</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">default_format</span><span class="o">=</span><span class="n">parameters</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="boxs.tensorflow.TensorflowKerasModelValueType.read_value_from_reader" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span></code>


<a href="#boxs.tensorflow.TensorflowKerasModelValueType.read_value_from_reader" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Read a value from the reader.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>reader</code></td>
        <td><code>boxs.storage.Reader</code></td>
        <td><p>The reader from which the value should be
read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The value that was read from the reader.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/tensorflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
    <span class="n">model_dir_path</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">read_value_from_reader</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tf_models_module</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="n">model_dir_path</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dir_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">model_dir_path</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.tensorflow.TensorflowKerasModelValueType.supports" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#boxs.tensorflow.TensorflowKerasModelValueType.supports" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns if the value type can be used for reading a writing the given value.</p>
<p>This method is used to determine if a value can be read and written by a value
type. It is only necessary, if the value type should be picked up
automatically. If it is only used explicitly, no check is performed.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value for which the value type should be checked.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the value type supports this value, otherwise <code>False</code>.
    The default implementation just returns <code>False</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/tensorflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.tensorflow.TensorflowKerasModelValueType.write_value_to_writer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span></code>


<a href="#boxs.tensorflow.TensorflowKerasModelValueType.write_value_to_writer" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Write the given value to the writer.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value that should be written.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>writer</code></td>
        <td><code>boxs.storage.Writer</code></td>
        <td><p>The writer into which the value should be
written.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/tensorflow.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
    <span class="n">model_dir_path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">())</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tf_models_module</span><span class="o">.</span><span class="n">save_model</span><span class="p">(</span>
            <span class="n">value</span><span class="p">,</span> <span class="n">filepath</span><span class="o">=</span><span class="n">model_dir_path</span><span class="p">,</span> <span class="n">save_format</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_default_format</span>
        <span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">write_value_to_writer</span><span class="p">(</span><span class="n">model_dir_path</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">meta</span><span class="p">[</span><span class="s1">&#39;model_format&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_format</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">model_dir_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.transform" class="doc doc-heading">
        <code>transform</code>



<a href="#boxs.transform" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Transforming data items</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="boxs.transform.DelegatingReader" class="doc doc-heading">
        <code>
DelegatingReader            (<a title="boxs.storage.Reader" href="#boxs.storage.Reader">Reader</a>)
        </code>



<a href="#boxs.transform.DelegatingReader" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Reader class that delegates all calls to a wrapped reader.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/transform.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DelegatingReader</span><span class="p">(</span><span class="n">Reader</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reader class that delegates all calls to a wrapped reader.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delegate</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new DelegatingReader.</span>

<span class="sd">        Args:</span>
<span class="sd">            delegate (boxs.storage.Reader): The reader to which all calls are</span>
<span class="sd">                delegated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">delegate</span><span class="o">.</span><span class="n">item</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">delegate</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">info</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">meta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">meta</span>

    <span class="k">def</span> <span class="nf">read_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">read_value</span><span class="p">(</span><span class="n">value_type</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">as_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="boxs.transform.DelegatingReader.info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">info</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.transform.DelegatingReader.info" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Dictionary containing information about the data.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="boxs.transform.DelegatingReader.meta" class="doc doc-heading">
<code class="highlight language-python"><span class="n">meta</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.transform.DelegatingReader.meta" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Dictionary containing the meta-data about the data.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="boxs.transform.DelegatingReader.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delegate</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#boxs.transform.DelegatingReader.__init__" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Create a new DelegatingReader.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>delegate</code></td>
        <td><code>boxs.storage.Reader</code></td>
        <td><p>The reader to which all calls are
delegated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/transform.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delegate</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new DelegatingReader.</span>

<span class="sd">    Args:</span>
<span class="sd">        delegate (boxs.storage.Reader): The reader to which all calls are</span>
<span class="sd">            delegated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">delegate</span><span class="o">.</span><span class="n">item</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">delegate</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.transform.DelegatingReader.as_stream" class="doc doc-heading">
<code class="highlight language-python"><span class="n">as_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#boxs.transform.DelegatingReader.as_stream" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Return a stream from which the data content can be read.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>io.RawIOBase</code></td>
      <td><p>A stream instance from which the data can be read.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/transform.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">as_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.transform.DelegatingReader.read_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span></code>


<a href="#boxs.transform.DelegatingReader.read_value" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Read the value and return it.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value_type</code></td>
        <td><code>boxs.value_types.ValueType</code></td>
        <td><p>The value type that reads the
value from the reader and converts it to the correct type.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The returned value from the <code>value_type</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/transform.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_type</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">read_value</span><span class="p">(</span><span class="n">value_type</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.transform.DelegatingWriter" class="doc doc-heading">
        <code>
DelegatingWriter            (<a title="boxs.storage.Writer" href="#boxs.storage.Writer">Writer</a>)
        </code>



<a href="#boxs.transform.DelegatingWriter" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Writer that delegates all call to a wrapped writer.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/transform.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DelegatingWriter</span><span class="p">(</span><span class="n">Writer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Writer that delegates all call to a wrapped writer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delegate</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">delegate</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">delegate</span><span class="o">.</span><span class="n">item</span><span class="p">,</span> <span class="n">delegate</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">delegate</span><span class="o">.</span><span class="n">tags</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">meta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">meta</span>

    <span class="k">def</span> <span class="nf">write_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">value_type</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">write_value</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">write_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">info</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">write_info</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">as_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="boxs.transform.DelegatingWriter.meta" class="doc doc-heading">
<code class="highlight language-python"><span class="n">meta</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#boxs.transform.DelegatingWriter.meta" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns a dictionary which contains meta-data of the item.</p>
<p>This allows either ValueTypes or Transformers to add additional
meta-data for the data item.</p>
    </div>

  </div>







  <div class="doc doc-object doc-method">



<h4 id="boxs.transform.DelegatingWriter.as_stream" class="doc doc-heading">
<code class="highlight language-python"><span class="n">as_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#boxs.transform.DelegatingWriter.as_stream" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Return a stream to which the data content should be written.</p>
<p>This method can be used by the ValueType to actually transfer the data.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>io.RawIOBase</code></td>
      <td><p>The binary io-stream.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>boxs.errors.DataCollision</code></td>
        <td><p>If a data item with the same ids already
exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/transform.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">as_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.transform.DelegatingWriter.write_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">info</span><span class="p">)</span></code>


<a href="#boxs.transform.DelegatingWriter.write_info" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Write the info for the data item to the storage.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>info</code></td>
        <td><code>Dict[str,Any]</code></td>
        <td><p>The information about the new data item.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>boxs.errors.DataCollision</code></td>
        <td><p>If a data item with the same ids already
exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/transform.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">info</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">write_info</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.transform.DelegatingWriter.write_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span></code>


<a href="#boxs.transform.DelegatingWriter.write_value" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Write the data content to the storage.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value that should be written to the writer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>value_type</code></td>
        <td><code>boxs.value_types.ValueType</code></td>
        <td><p>The value type that takes care
of actually writing the value and converting it to the correct type.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/transform.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">value_type</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="o">.</span><span class="n">write_value</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.transform.Transformer" class="doc doc-heading">
        <code>
Transformer        </code>



<a href="#boxs.transform.Transformer" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Base class for transformers</p>
<p>Transformers allow modifying content and meta-data of a DataItem during store and
load by wrapping the writer and reader that are used for accessing them from the
storage. This can be useful for e.g. adding new meta-data, filtering content or
implementing encryption.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/transform.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Transformer</span><span class="p">:</span>
    <span class="c1"># pylint: disable=no-self-use</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Base class for transformers</span>

<span class="sd">    Transformers allow modifying content and meta-data of a DataItem during store and</span>
<span class="sd">    load by wrapping the writer and reader that are used for accessing them from the</span>
<span class="sd">    storage. This can be useful for e.g. adding new meta-data, filtering content or</span>
<span class="sd">    implementing encryption.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">transform_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Transform a given writer.</span>

<span class="sd">        Args:</span>
<span class="sd">            writer (boxs.storage.Writer): Writer object that is used for writing</span>
<span class="sd">                new data content and meta-data.</span>

<span class="sd">        Returns:</span>
<span class="sd">            boxs.storage.Writer: A modified writer that will be used instead.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">writer</span>

    <span class="k">def</span> <span class="nf">transform_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Transform a given reader.</span>

<span class="sd">        Args:</span>
<span class="sd">            reader (boxs.storage.Reader): Reader object that is used for reading</span>
<span class="sd">                data content and meta-data.</span>

<span class="sd">        Returns:</span>
<span class="sd">            boxs.storage.Reader: A modified reader that will be used instead.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">reader</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="boxs.transform.Transformer.transform_reader" class="doc doc-heading">
<code class="highlight language-python"><span class="n">transform_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span></code>


<a href="#boxs.transform.Transformer.transform_reader" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Transform a given reader.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>reader</code></td>
        <td><code>boxs.storage.Reader</code></td>
        <td><p>Reader object that is used for reading
data content and meta-data.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.storage.Reader</code></td>
      <td><p>A modified reader that will be used instead.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/transform.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">transform_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transform a given reader.</span>

<span class="sd">    Args:</span>
<span class="sd">        reader (boxs.storage.Reader): Reader object that is used for reading</span>
<span class="sd">            data content and meta-data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boxs.storage.Reader: A modified reader that will be used instead.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">reader</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.transform.Transformer.transform_writer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">transform_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span></code>


<a href="#boxs.transform.Transformer.transform_writer" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Transform a given writer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>writer</code></td>
        <td><code>boxs.storage.Writer</code></td>
        <td><p>Writer object that is used for writing
new data content and meta-data.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boxs.storage.Writer</code></td>
      <td><p>A modified writer that will be used instead.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/transform.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">transform_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transform a given writer.</span>

<span class="sd">    Args:</span>
<span class="sd">        writer (boxs.storage.Writer): Writer object that is used for writing</span>
<span class="sd">            new data content and meta-data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boxs.storage.Writer: A modified writer that will be used instead.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">writer</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="boxs.value_types" class="doc doc-heading">
        <code>value_types</code>



<a href="#boxs.value_types" class="headerlink" title="Permanent link"></a></h2>

    <div class="doc doc-contents ">

      <p>Types for reading and writing of different value types</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h3 id="boxs.value_types.BytesValueType" class="doc doc-heading">
        <code>
BytesValueType            (<a title="boxs.value_types.ValueType" href="#boxs.value_types.ValueType">ValueType</a>)
        </code>



<a href="#boxs.value_types.BytesValueType" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>A ValueType for reading and writing bytes/bytearray values.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BytesValueType</span><span class="p">(</span><span class="n">ValueType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A ValueType for reading and writing bytes/bytearray values.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">bytes</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
        <span class="n">source_stream</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">writer</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">destination_stream</span><span class="p">:</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="n">source_stream</span><span class="p">,</span> <span class="n">destination_stream</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">reader</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">stream</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">stream</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.BytesValueType.read_value_from_reader" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span></code>


<a href="#boxs.value_types.BytesValueType.read_value_from_reader" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Read a value from the reader.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>reader</code></td>
        <td><code>boxs.storage.Reader</code></td>
        <td><p>The reader from which the value should be
read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The value that was read from the reader.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">reader</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">stream</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">stream</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.BytesValueType.supports" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#boxs.value_types.BytesValueType.supports" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns if the value type can be used for reading a writing the given value.</p>
<p>This method is used to determine if a value can be read and written by a value
type. It is only necessary, if the value type should be picked up
automatically. If it is only used explicitly, no check is performed.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value for which the value type should be checked.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the value type supports this value, otherwise <code>False</code>.
    The default implementation just returns <code>False</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">bytes</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.BytesValueType.write_value_to_writer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span></code>


<a href="#boxs.value_types.BytesValueType.write_value_to_writer" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Write the given value to the writer.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value that should be written.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>writer</code></td>
        <td><code>boxs.storage.Writer</code></td>
        <td><p>The writer into which the value should be
written.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
    <span class="n">source_stream</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">writer</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">destination_stream</span><span class="p">:</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="n">source_stream</span><span class="p">,</span> <span class="n">destination_stream</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.value_types.DirectoryValueType" class="doc doc-heading">
        <code>
DirectoryValueType            (<a title="boxs.value_types.ValueType" href="#boxs.value_types.ValueType">ValueType</a>)
        </code>



<a href="#boxs.value_types.DirectoryValueType" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>A ValueType for reading and writing directories.</p>
<p>The values have to be instances of <code>pathlib.Path</code> and must point to an existing
directory. Everything within this directory is then added to a new zip archive,
that is written to the storage.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DirectoryValueType</span><span class="p">(</span><span class="n">ValueType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A ValueType for reading and writing directories.</span>

<span class="sd">    The values have to be instances of `pathlib.Path` and must point to an existing</span>
<span class="sd">    directory. Everything within this directory is then added to a new zip archive,</span>
<span class="sd">    that is written to the storage.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dir_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dir_path</span> <span class="o">=</span> <span class="n">dir_path</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">_add_directory</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">directory</span><span class="p">,</span> <span class="n">_zip_file</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">directory</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
                    <span class="n">_zip_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">arcname</span><span class="o">=</span><span class="n">path</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
                    <span class="n">_add_directory</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">_zip_file</span><span class="p">)</span>

        <span class="k">with</span> <span class="n">writer</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">destination_stream</span><span class="p">,</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span>
            <span class="n">destination_stream</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">zip_file</span><span class="p">:</span>
            <span class="n">_add_directory</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">zip_file</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
        <span class="n">dir_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dir_path</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dir_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">dir_path</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>
        <span class="n">dir_path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">dir_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Directory will be stored in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">dir_path</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">reader</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">read_stream</span><span class="p">,</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span>
            <span class="n">read_stream</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">zip_file</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">zip_info</span> <span class="ow">in</span> <span class="n">zip_file</span><span class="o">.</span><span class="n">infolist</span><span class="p">():</span>
                <span class="n">target_path</span> <span class="o">=</span> <span class="n">dir_path</span> <span class="o">/</span> <span class="n">zip_info</span><span class="o">.</span><span class="n">filename</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;Extracting </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">zip_info</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span> <span class="n">target_path</span>
                <span class="p">)</span>
                <span class="n">zip_file</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="n">zip_info</span><span class="p">,</span> <span class="n">target_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">dir_path</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.DirectoryValueType.read_value_from_reader" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span></code>


<a href="#boxs.value_types.DirectoryValueType.read_value_from_reader" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Read a value from the reader.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>reader</code></td>
        <td><code>boxs.storage.Reader</code></td>
        <td><p>The reader from which the value should be
read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The value that was read from the reader.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
    <span class="n">dir_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dir_path</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dir_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">dir_path</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>
    <span class="n">dir_path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">dir_path</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Directory will be stored in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">dir_path</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">reader</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">read_stream</span><span class="p">,</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span>
        <span class="n">read_stream</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">zip_file</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">zip_info</span> <span class="ow">in</span> <span class="n">zip_file</span><span class="o">.</span><span class="n">infolist</span><span class="p">():</span>
            <span class="n">target_path</span> <span class="o">=</span> <span class="n">dir_path</span> <span class="o">/</span> <span class="n">zip_info</span><span class="o">.</span><span class="n">filename</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Extracting </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">zip_info</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span> <span class="n">target_path</span>
            <span class="p">)</span>
            <span class="n">zip_file</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="n">zip_info</span><span class="p">,</span> <span class="n">target_path</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dir_path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.DirectoryValueType.supports" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#boxs.value_types.DirectoryValueType.supports" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns if the value type can be used for reading a writing the given value.</p>
<p>This method is used to determine if a value can be read and written by a value
type. It is only necessary, if the value type should be picked up
automatically. If it is only used explicitly, no check is performed.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value for which the value type should be checked.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the value type supports this value, otherwise <code>False</code>.
    The default implementation just returns <code>False</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.DirectoryValueType.write_value_to_writer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span></code>


<a href="#boxs.value_types.DirectoryValueType.write_value_to_writer" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Write the given value to the writer.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value that should be written.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>writer</code></td>
        <td><code>boxs.storage.Writer</code></td>
        <td><p>The writer into which the value should be
written.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">_add_directory</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">directory</span><span class="p">,</span> <span class="n">_zip_file</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">directory</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
                <span class="n">_zip_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">arcname</span><span class="o">=</span><span class="n">path</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
                <span class="n">_add_directory</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">_zip_file</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">writer</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">destination_stream</span><span class="p">,</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span>
        <span class="n">destination_stream</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">zip_file</span><span class="p">:</span>
        <span class="n">_add_directory</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">zip_file</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.value_types.FileValueType" class="doc doc-heading">
        <code>
FileValueType            (<a title="boxs.value_types.ValueType" href="#boxs.value_types.ValueType">ValueType</a>)
        </code>



<a href="#boxs.value_types.FileValueType" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>A ValueType for reading and writing files.</p>
<p>The values have to be instances of <code>pathlib.Path</code>.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FileValueType</span><span class="p">(</span><span class="n">ValueType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A ValueType for reading and writing files.</span>

<span class="sd">    The values have to be instances of `pathlib.Path`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_file_path</span> <span class="o">=</span> <span class="n">file_path</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">value</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_reader</span><span class="p">,</span> <span class="n">writer</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">destination_stream</span><span class="p">:</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="n">file_reader</span><span class="p">,</span> <span class="n">destination_stream</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="s1">&#39;as_file&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Reader has as_file()&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_path</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Copying file directly&quot;</span><span class="p">)</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">copyfile</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">reader</span><span class="o">.</span><span class="n">as_file</span><span class="p">()),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_file_path</span><span class="p">))</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_path</span>
            <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">as_file</span><span class="p">()</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_path</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">file_path</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mktemp</span><span class="p">()</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">reader</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">read_stream</span><span class="p">,</span> <span class="n">io</span><span class="o">.</span><span class="n">FileIO</span><span class="p">(</span>
            <span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">file_stream</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Writing file from stream&quot;</span><span class="p">)</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="n">read_stream</span><span class="p">,</span> <span class="n">file_stream</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">file_path</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.FileValueType.read_value_from_reader" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span></code>


<a href="#boxs.value_types.FileValueType.read_value_from_reader" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Read a value from the reader.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>reader</code></td>
        <td><code>boxs.storage.Reader</code></td>
        <td><p>The reader from which the value should be
read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The value that was read from the reader.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="s1">&#39;as_file&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Reader has as_file()&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_path</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Copying file directly&quot;</span><span class="p">)</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copyfile</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">reader</span><span class="o">.</span><span class="n">as_file</span><span class="p">()),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_file_path</span><span class="p">))</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_path</span>
        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">as_file</span><span class="p">()</span>
    <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_path</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mktemp</span><span class="p">()</span>
    <span class="n">file_path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">reader</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">read_stream</span><span class="p">,</span> <span class="n">io</span><span class="o">.</span><span class="n">FileIO</span><span class="p">(</span>
        <span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">file_stream</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Writing file from stream&quot;</span><span class="p">)</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="n">read_stream</span><span class="p">,</span> <span class="n">file_stream</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">file_path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.FileValueType.supports" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#boxs.value_types.FileValueType.supports" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns if the value type can be used for reading a writing the given value.</p>
<p>This method is used to determine if a value can be read and written by a value
type. It is only necessary, if the value type should be picked up
automatically. If it is only used explicitly, no check is performed.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value for which the value type should be checked.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the value type supports this value, otherwise <code>False</code>.
    The default implementation just returns <code>False</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.FileValueType.write_value_to_writer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span></code>


<a href="#boxs.value_types.FileValueType.write_value_to_writer" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Write the given value to the writer.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value that should be written.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>writer</code></td>
        <td><code>boxs.storage.Writer</code></td>
        <td><p>The writer into which the value should be
written.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">value</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_reader</span><span class="p">,</span> <span class="n">writer</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">destination_stream</span><span class="p">:</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="n">file_reader</span><span class="p">,</span> <span class="n">destination_stream</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.value_types.JsonValueType" class="doc doc-heading">
        <code>
JsonValueType            (<a title="boxs.value_types.ValueType" href="#boxs.value_types.ValueType">ValueType</a>)
        </code>



<a href="#boxs.value_types.JsonValueType" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>ValueType for storing values as JSON.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">JsonValueType</span><span class="p">(</span><span class="n">ValueType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ValueType for storing values as JSON.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">meta</span><span class="p">[</span><span class="s1">&#39;media_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;application/json&#39;</span>
        <span class="k">with</span> <span class="n">writer</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">destination_stream</span><span class="p">,</span> <span class="n">io</span><span class="o">.</span><span class="n">TextIOWrapper</span><span class="p">(</span>
            <span class="n">destination_stream</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">text_writer</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">text_writer</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">reader</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">stream</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.JsonValueType.read_value_from_reader" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span></code>


<a href="#boxs.value_types.JsonValueType.read_value_from_reader" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Read a value from the reader.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>reader</code></td>
        <td><code>boxs.storage.Reader</code></td>
        <td><p>The reader from which the value should be
read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The value that was read from the reader.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">reader</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">stream</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.JsonValueType.supports" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#boxs.value_types.JsonValueType.supports" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns if the value type can be used for reading a writing the given value.</p>
<p>This method is used to determine if a value can be read and written by a value
type. It is only necessary, if the value type should be picked up
automatically. If it is only used explicitly, no check is performed.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value for which the value type should be checked.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the value type supports this value, otherwise <code>False</code>.
    The default implementation just returns <code>False</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.JsonValueType.write_value_to_writer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span></code>


<a href="#boxs.value_types.JsonValueType.write_value_to_writer" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Write the given value to the writer.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value that should be written.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>writer</code></td>
        <td><code>boxs.storage.Writer</code></td>
        <td><p>The writer into which the value should be
written.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">meta</span><span class="p">[</span><span class="s1">&#39;media_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;application/json&#39;</span>
    <span class="k">with</span> <span class="n">writer</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">destination_stream</span><span class="p">,</span> <span class="n">io</span><span class="o">.</span><span class="n">TextIOWrapper</span><span class="p">(</span>
        <span class="n">destination_stream</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">text_writer</span><span class="p">:</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">text_writer</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.value_types.StreamValueType" class="doc doc-heading">
        <code>
StreamValueType            (<a title="boxs.value_types.ValueType" href="#boxs.value_types.ValueType">ValueType</a>)
        </code>



<a href="#boxs.value_types.StreamValueType" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>A ValueType for reading and writing from and to a stream.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StreamValueType</span><span class="p">(</span><span class="n">ValueType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A ValueType for reading and writing from and to a stream.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">io</span><span class="o">.</span><span class="n">IOBase</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">writer</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">destination_stream</span><span class="p">:</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">destination_stream</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.StreamValueType.read_value_from_reader" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span></code>


<a href="#boxs.value_types.StreamValueType.read_value_from_reader" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Read a value from the reader.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>reader</code></td>
        <td><code>boxs.storage.Reader</code></td>
        <td><p>The reader from which the value should be
read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The value that was read from the reader.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.StreamValueType.supports" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#boxs.value_types.StreamValueType.supports" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns if the value type can be used for reading a writing the given value.</p>
<p>This method is used to determine if a value can be read and written by a value
type. It is only necessary, if the value type should be picked up
automatically. If it is only used explicitly, no check is performed.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value for which the value type should be checked.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the value type supports this value, otherwise <code>False</code>.
    The default implementation just returns <code>False</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">io</span><span class="o">.</span><span class="n">IOBase</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.StreamValueType.write_value_to_writer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span></code>


<a href="#boxs.value_types.StreamValueType.write_value_to_writer" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Write the given value to the writer.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value that should be written.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>writer</code></td>
        <td><code>boxs.storage.Writer</code></td>
        <td><p>The writer into which the value should be
written.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">writer</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">destination_stream</span><span class="p">:</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">destination_stream</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.value_types.StringValueType" class="doc doc-heading">
        <code>
StringValueType            (<a title="boxs.value_types.ValueType" href="#boxs.value_types.ValueType">ValueType</a>)
        </code>



<a href="#boxs.value_types.StringValueType" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>A ValueType for reading and writing string values.</p>
<p>The ValueType can use different encodings via its constructor argument, but
defaults to 'utf-8'.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StringValueType</span><span class="p">(</span><span class="n">ValueType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A ValueType for reading and writing string values.</span>

<span class="sd">    The ValueType can use different encodings via its constructor argument, but</span>
<span class="sd">    defaults to &#39;utf-8&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default_encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_encoding</span> <span class="o">=</span> <span class="n">default_encoding</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
        <span class="n">source_stream</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_default_encoding</span><span class="p">))</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">meta</span><span class="p">[</span><span class="s1">&#39;encoding&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_encoding</span>
        <span class="k">with</span> <span class="n">writer</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">destination_stream</span><span class="p">:</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="n">source_stream</span><span class="p">,</span> <span class="n">destination_stream</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
        <span class="n">encoding</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;encoding&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_encoding</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Reading string with encoding </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">reader</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">stream</span><span class="p">,</span> <span class="n">io</span><span class="o">.</span><span class="n">TextIOWrapper</span><span class="p">(</span>
            <span class="n">stream</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">text_reader</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">text_reader</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_get_parameter_string</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_encoding</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_from_parameter_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parameters</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">default_encoding</span><span class="o">=</span><span class="n">parameters</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.StringValueType.read_value_from_reader" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span></code>


<a href="#boxs.value_types.StringValueType.read_value_from_reader" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Read a value from the reader.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>reader</code></td>
        <td><code>boxs.storage.Reader</code></td>
        <td><p>The reader from which the value should be
read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The value that was read from the reader.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
    <span class="n">encoding</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;encoding&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_encoding</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Reading string with encoding </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">reader</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">stream</span><span class="p">,</span> <span class="n">io</span><span class="o">.</span><span class="n">TextIOWrapper</span><span class="p">(</span>
        <span class="n">stream</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">text_reader</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">text_reader</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.StringValueType.supports" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#boxs.value_types.StringValueType.supports" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns if the value type can be used for reading a writing the given value.</p>
<p>This method is used to determine if a value can be read and written by a value
type. It is only necessary, if the value type should be picked up
automatically. If it is only used explicitly, no check is performed.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value for which the value type should be checked.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the value type supports this value, otherwise <code>False</code>.
    The default implementation just returns <code>False</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.StringValueType.write_value_to_writer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span></code>


<a href="#boxs.value_types.StringValueType.write_value_to_writer" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Write the given value to the writer.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value that should be written.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>writer</code></td>
        <td><code>boxs.storage.Writer</code></td>
        <td><p>The writer into which the value should be
written.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
    <span class="n">source_stream</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_default_encoding</span><span class="p">))</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">meta</span><span class="p">[</span><span class="s1">&#39;encoding&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_encoding</span>
    <span class="k">with</span> <span class="n">writer</span><span class="o">.</span><span class="n">as_stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">destination_stream</span><span class="p">:</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="n">source_stream</span><span class="p">,</span> <span class="n">destination_stream</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="boxs.value_types.ValueType" class="doc doc-heading">
        <code>
ValueType            (<span title="abc.ABC">ABC</span>)
        </code>



<a href="#boxs.value_types.ValueType" class="headerlink" title="Permanent link"></a></h3>

    <div class="doc doc-contents ">

      <p>Base class for implementing the type depending reading and writing of values to
and from Readers and Writers.</p>

        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ValueType</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">ABC</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Base class for implementing the type depending reading and writing of values to</span>
<span class="sd">    and from Readers and Writers.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>  <span class="c1"># pylint: disable=unused-argument,no-self-use</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns if the value type can be used for reading a writing the given value.</span>

<span class="sd">        This method is used to determine if a value can be read and written by a value</span>
<span class="sd">        type. It is only necessary, if the value type should be picked up</span>
<span class="sd">        automatically. If it is only used explicitly, no check is performed.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (Any): The value for which the value type should be checked.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: `True` if the value type supports this value, otherwise `False`.</span>
<span class="sd">                The default implementation just returns `False`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Write the given value to the writer.</span>

<span class="sd">        This method needs to be implemented by the specific value type implementations</span>
<span class="sd">        that take care of the necessary type conversions.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (Any): The value that should be written.</span>
<span class="sd">            writer (boxs.storage.Writer): The writer into which the value should be</span>
<span class="sd">                written.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read a value from the reader.</span>

<span class="sd">        This method needs to be implemented by the specific value type implementations</span>
<span class="sd">        that take care of the necessary type conversions.</span>

<span class="sd">        Args:</span>
<span class="sd">            reader (boxs.storage.Reader): The reader from which the value should be</span>
<span class="sd">                read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Any: The value that was read from the reader.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_specification</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string that specifies this ValueType.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The specification that can be used for recreating this specific</span>
<span class="sd">                ValueType.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">module_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__module__</span>
        <span class="n">class_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__qualname__</span>
        <span class="n">parameter_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_parameter_string</span><span class="p">()</span>
        <span class="k">return</span> <span class="s1">&#39;:&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">module_name</span><span class="p">,</span> <span class="n">class_name</span><span class="p">,</span> <span class="n">parameter_string</span><span class="p">])</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_specification</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">specification</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new ValueType instance from its specification string.</span>

<span class="sd">        Args:</span>
<span class="sd">            specification (str): The specification string that specifies the ValueType</span>
<span class="sd">                thate should be instantiated.</span>


<span class="sd">        Returns:</span>
<span class="sd">            ValueType: The specified ValueType instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Recreating value type from specification </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">specification</span><span class="p">)</span>
        <span class="n">module_name</span><span class="p">,</span> <span class="n">class_name</span><span class="p">,</span> <span class="n">parameter_string</span> <span class="o">=</span> <span class="n">specification</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
        <span class="n">class_</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">class_name</span><span class="p">)</span>
        <span class="n">value_type</span> <span class="o">=</span> <span class="n">class_</span><span class="o">.</span><span class="n">_from_parameter_string</span><span class="p">(</span>  <span class="c1"># pylint: disable=protected-access</span>
            <span class="n">parameter_string</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">value_type</span>

    <span class="k">def</span> <span class="nf">_get_parameter_string</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># pylint: disable=no-self-use</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a string encoding the ValueType specific parameters.</span>

<span class="sd">        This method needs to be overridden by subclasses, that use parameters.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The string containing the parameters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_from_parameter_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parameters</span><span class="p">):</span>  <span class="c1"># pylint: disable=unused-argument</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a new instance of a specific ValueType from its parameter string.</span>

<span class="sd">        This method needs to be overridden by subclasses, that use parameters.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ValueType: The specified ValueType instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_specification</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_specification</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.ValueType.from_specification" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_specification</span><span class="p">(</span><span class="n">specification</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#boxs.value_types.ValueType.from_specification" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Create a new ValueType instance from its specification string.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>specification</code></td>
        <td><code>str</code></td>
        <td><p>The specification string that specifies the ValueType
thate should be instantiated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ValueType</code></td>
      <td><p>The specified ValueType instance.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_specification</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">specification</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new ValueType instance from its specification string.</span>

<span class="sd">    Args:</span>
<span class="sd">        specification (str): The specification string that specifies the ValueType</span>
<span class="sd">            thate should be instantiated.</span>


<span class="sd">    Returns:</span>
<span class="sd">        ValueType: The specified ValueType instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Recreating value type from specification </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">specification</span><span class="p">)</span>
    <span class="n">module_name</span><span class="p">,</span> <span class="n">class_name</span><span class="p">,</span> <span class="n">parameter_string</span> <span class="o">=</span> <span class="n">specification</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
    <span class="n">class_</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">class_name</span><span class="p">)</span>
    <span class="n">value_type</span> <span class="o">=</span> <span class="n">class_</span><span class="o">.</span><span class="n">_from_parameter_string</span><span class="p">(</span>  <span class="c1"># pylint: disable=protected-access</span>
        <span class="n">parameter_string</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">value_type</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.ValueType.get_specification" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_specification</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#boxs.value_types.ValueType.get_specification" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns a string that specifies this ValueType.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The specification that can be used for recreating this specific
    ValueType.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_specification</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a string that specifies this ValueType.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The specification that can be used for recreating this specific</span>
<span class="sd">            ValueType.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">module_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__module__</span>
    <span class="n">class_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__qualname__</span>
    <span class="n">parameter_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_parameter_string</span><span class="p">()</span>
    <span class="k">return</span> <span class="s1">&#39;:&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">module_name</span><span class="p">,</span> <span class="n">class_name</span><span class="p">,</span> <span class="n">parameter_string</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.ValueType.read_value_from_reader" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span></code>


<a href="#boxs.value_types.ValueType.read_value_from_reader" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Read a value from the reader.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>reader</code></td>
        <td><code>boxs.storage.Reader</code></td>
        <td><p>The reader from which the value should be
read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The value that was read from the reader.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">read_value_from_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read a value from the reader.</span>

<span class="sd">    This method needs to be implemented by the specific value type implementations</span>
<span class="sd">    that take care of the necessary type conversions.</span>

<span class="sd">    Args:</span>
<span class="sd">        reader (boxs.storage.Reader): The reader from which the value should be</span>
<span class="sd">            read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Any: The value that was read from the reader.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.ValueType.supports" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#boxs.value_types.ValueType.supports" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Returns if the value type can be used for reading a writing the given value.</p>
<p>This method is used to determine if a value can be read and written by a value
type. It is only necessary, if the value type should be picked up
automatically. If it is only used explicitly, no check is performed.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value for which the value type should be checked.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the value type supports this value, otherwise <code>False</code>.
    The default implementation just returns <code>False</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">supports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>  <span class="c1"># pylint: disable=unused-argument,no-self-use</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns if the value type can be used for reading a writing the given value.</span>

<span class="sd">    This method is used to determine if a value can be read and written by a value</span>
<span class="sd">    type. It is only necessary, if the value type should be picked up</span>
<span class="sd">    automatically. If it is only used explicitly, no check is performed.</span>

<span class="sd">    Args:</span>
<span class="sd">        value (Any): The value for which the value type should be checked.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: `True` if the value type supports this value, otherwise `False`.</span>
<span class="sd">            The default implementation just returns `False`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="boxs.value_types.ValueType.write_value_to_writer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">)</span></code>


<a href="#boxs.value_types.ValueType.write_value_to_writer" class="headerlink" title="Permanent link"></a></h4>

    <div class="doc doc-contents ">

      <p>Write the given value to the writer.</p>
<p>This method needs to be implemented by the specific value type implementations
that take care of the necessary type conversions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value that should be written.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>writer</code></td>
        <td><code>boxs.storage.Writer</code></td>
        <td><p>The writer into which the value should be
written.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>boxs/value_types.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">write_value_to_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">writer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Write the given value to the writer.</span>

<span class="sd">    This method needs to be implemented by the specific value type implementations</span>
<span class="sd">    that take care of the necessary type conversions.</span>

<span class="sd">    Args:</span>
<span class="sd">        value (Any): The value that should be written.</span>
<span class="sd">        writer (boxs.storage.Writer): The writer into which the value should be</span>
<span class="sd">            written.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2022-01-29
    
  </small>
</div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../changelog/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Changelog" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Changelog
            </div>
          </div>
        </a>
      
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 Kantai GmbH
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://twitter.com/kantaiML" target="_blank" rel="noopener" title="kantai on Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tracking"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.22074ed6.min.js", "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.960e086b.min.js"></script>
      
        <script src=".."></script>
      
    
    <script type="module">
      import { initGlossa } from "https://cdn.glossa.cc/glossa-client.es.js"
      initGlossa('6Z1noDe3Eh9RFtmm6apOj9t4NRhm9SRA4eqC1o6k');
    </script>
  </body>
</html>